{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\daron\\\\OneDrive\\\\Escritorio\\\\taller_proyecto\\\\aplicacion_microempresa\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { BrowserRouter, Routes, Route, NavLink, Navigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\";\nconst emptyForm = {\n  username: \"\",\n  email: \"\",\n  password: \"\"\n};\nconst roleLabels = {\n  super_usuario: \"Super usuario\",\n  microempresa: \"Microempresa\",\n  cliente: \"Cliente\"\n};\nconst pageTitles = {\n  \"/dashboard\": \"Dashboard\",\n  \"/categorias\": \"Categorías\",\n  \"/planes\": \"Planes\",\n  \"/usuarios\": \"Usuarios\",\n  \"/productos\": \"Productos\",\n  \"/proveedores\": \"Proveedores\",\n  \"/suscripcion\": \"Suscripción\",\n  \"/microempresas\": \"Microempresas\",\n  \"/compras\": \"Compras\",\n  \"/perfil\": \"Perfil\"\n};\nconst roleMenus = {\n  super_usuario: [{\n    path: \"/categorias\",\n    label: \"Categorías\"\n  }, {\n    path: \"/planes\",\n    label: \"Planes\"\n  }, {\n    path: \"/usuarios\",\n    label: \"Usuarios\"\n  }],\n  microempresa: [{\n    path: \"/productos\",\n    label: \"Productos\"\n  }, {\n    path: \"/proveedores\",\n    label: \"Proveedores\"\n  }, {\n    path: \"/suscripcion\",\n    label: \"Suscripción\"\n  }],\n  cliente: [{\n    path: \"/microempresas\",\n    label: \"Microempresas\"\n  }, {\n    path: \"/compras\",\n    label: \"Compras\"\n  }]\n};\nconst SectionCard = ({\n  title,\n  description,\n  children\n}) => /*#__PURE__*/_jsxDEV(\"section\", {\n  className: \"content-card\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this), description && /*#__PURE__*/_jsxDEV(\"p\", {\n    children: description\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 21\n  }, this), children]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 56,\n  columnNumber: 3\n}, this);\n_c = SectionCard;\nconst DashboardHeader = ({\n  displayName,\n  initials,\n  menuOpen,\n  setMenuOpen,\n  onLogout\n}) => {\n  _s();\n  const location = useLocation();\n  const title = pageTitles[location.pathname] || \"Dashboard\";\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"topbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"avatar-button\",\n        onClick: () => setMenuOpen(prev => !prev),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"avatar\",\n          children: initials\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"avatar-name\",\n          children: displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), menuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/perfil\",\n          className: \"dropdown-link\",\n          onClick: () => setMenuOpen(false),\n          children: \"Perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onLogout,\n          children: \"Cerrar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardHeader, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c2 = DashboardHeader;\nconst DataList = ({\n  items,\n  emptyLabel\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"data-list\",\n  children: items.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"muted\",\n    children: emptyLabel\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 7\n  }, this) : items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"data-row\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: item.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }, this), item.meta && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"muted\",\n      children: item.meta\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }, this)]\n  }, item.id || item.tenant_id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 9\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 99,\n  columnNumber: 3\n}, this);\n_c3 = DataList;\nexport default function App() {\n  _s2();\n  const [form, setForm] = useState(emptyForm);\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [mode, setMode] = useState(\"login\");\n  const [message, setMessage] = useState(\"\");\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [roleOptions, setRoleOptions] = useState([]);\n  const [pendingLogin, setPendingLogin] = useState(null);\n  const [dashboardData, setDashboardData] = useState(null);\n  const displayName = (user === null || user === void 0 ? void 0 : user.nombre) || (user === null || user === void 0 ? void 0 : user.nombre_completo) || (user === null || user === void 0 ? void 0 : user.username) || \"Usuario\";\n  const initials = displayName.slice(0, 2).toUpperCase();\n  const menuItems = useMemo(() => roleMenus[role] || [], [role]);\n  const loadMe = async () => {\n    const response = await fetch(`${API_BASE}/api/me`, {\n      credentials: \"include\"\n    });\n    const data = await response.json();\n    setUser(data.user);\n    setRole(data.role);\n  };\n  const loadDashboard = async () => {\n    if (!user) {\n      setDashboardData(null);\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/dashboard`, {\n      credentials: \"include\"\n    });\n    const data = await response.json();\n    setDashboardData(data);\n  };\n  useEffect(() => {\n    loadMe();\n  }, []);\n  useEffect(() => {\n    loadDashboard();\n  }, [user, role]);\n  const handleChange = event => {\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setMessage(\"\");\n    if (mode === \"login\") {\n      const response = await fetch(`${API_BASE}/api/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify({\n          email: form.email,\n          password: form.password\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        setMessage(data.error || \"Ocurrió un error\");\n        return;\n      }\n      if (data.select_role) {\n        setRoleOptions(data.roles || []);\n        setPendingLogin({\n          email: form.email,\n          password: form.password\n        });\n        return;\n      }\n      setUser(data.user);\n      setRole(data.role);\n      setForm(emptyForm);\n      setMenuOpen(false);\n      setRoleOptions([]);\n      setPendingLogin(null);\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        username: form.username,\n        email: form.email,\n        password: form.password\n      })\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n  const handleRoleLogin = async selectedRole => {\n    if (!pendingLogin) {\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        email: pendingLogin.email,\n        password: pendingLogin.password,\n        role: selectedRole\n      })\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n  const handleLogout = async () => {\n    await fetch(`${API_BASE}/api/logout`, {\n      method: \"POST\",\n      credentials: \"include\"\n    });\n    setUser(null);\n    setRole(null);\n    setMenuOpen(false);\n    setRoleOptions([]);\n    setPendingLogin(null);\n    setDashboardData(null);\n  };\n  const dashboardRoutes = () => {\n    if (role === \"super_usuario\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Hola, ${displayName}`,\n            description: \"Resumen general de administraci\\xF3n.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/categorias\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Categor\\xEDas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.categorias) || []).map(cat => ({\n                id: cat.id,\n                label: cat.nombre,\n                meta: cat.estado\n              })),\n              emptyLabel: \"Sin categor\\xEDas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/planes\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Planes\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.planes) || []).map(plan => ({\n                id: plan.id,\n                label: `${plan.nombre} - $${plan.precio}`,\n                meta: plan.estado\n              })),\n              emptyLabel: \"Sin planes registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/usuarios\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Microempresas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.usuarios) || []).map(u => ({\n                id: u.tenant_id,\n                label: `${u.nombre} (${u.email})`,\n                meta: u.estado\n              })),\n              emptyLabel: \"Sin microempresas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (role === \"microempresa\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Bienvenido, ${displayName}`,\n            description: \"Gestiona tu operaci\\xF3n desde aqu\\xED.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/productos\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Productos\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.productos) || []).map(prod => ({\n                id: prod.id,\n                label: `${prod.nombre} - $${prod.precio}`,\n                meta: `Stock: ${prod.stock}`\n              })),\n              emptyLabel: \"Sin productos registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/proveedores\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Proveedores\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.proveedores) || []).map(prov => ({\n                id: prov.id,\n                label: prov.nombre,\n                meta: prov.email || prov.estado\n              })),\n              emptyLabel: \"Sin proveedores registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/suscripcion\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Suscripci\\xF3n\",\n            children: dashboardData !== null && dashboardData !== void 0 && dashboardData.suscripcion ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"data-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Plan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.plan || \"Sin plan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Inicio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.fecha_inicio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Fin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.fecha_fin || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.estado\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"muted\",\n              children: \"No hay suscripci\\xF3n activa.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (role === \"cliente\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Hola, ${displayName}`,\n            description: \"Consulta tus compras y microempresas disponibles.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/microempresas\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Microempresas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.microempresas) || []).map(item => ({\n                id: item.tenant_id,\n                label: item.nombre,\n                meta: item.email\n              })),\n              emptyLabel: \"No hay microempresas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/compras\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Compras realizadas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.compras) || []).map(compra => ({\n                id: compra.id,\n                label: `Compra #${compra.id} - $${compra.total}`,\n                meta: compra.microempresa\n              })),\n              emptyLabel: \"No tienes compras registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-shell\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand\",\n          children: \"Microempresa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"menu\",\n          children: menuItems.map(item => /*#__PURE__*/_jsxDEV(NavLink, {\n            to: item.path,\n            className: ({\n              isActive\n            }) => `menu-item${isActive ? \" active\" : \"\"}`,\n            children: item.label\n          }, item.path, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(DashboardHeader, {\n          displayName: displayName,\n          initials: initials,\n          menuOpen: menuOpen,\n          setMenuOpen: setMenuOpen,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [dashboardRoutes(), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/perfil\",\n            element: /*#__PURE__*/_jsxDEV(SectionCard, {\n              title: \"Perfil\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Usuario: \", displayName, user !== null && user !== void 0 && user.email ? ` (${user.email})` : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"muted\",\n                children: [\"Rol: \", roleLabels[role] || role]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/dashboard\",\n              replace: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Acceso al sistema\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 11\n      }, this), roleOptions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card role-picker\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Selecciona el tipo de usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"role-options\",\n          children: roleOptions.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleRoleLogin(option),\n            children: roleLabels[option] || option\n          }, option, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"link-button\",\n          onClick: () => {\n            setRoleOptions([]);\n            setPendingLogin(null);\n          },\n          children: \"Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: mode === \"login\" ? \"active\" : \"\",\n            onClick: () => setMode(\"login\"),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: mode === \"register\" ? \"active\" : \"\",\n            onClick: () => setMode(\"register\"),\n            children: \"Registro microempresa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 15\n        }, this), mode === \"register\" && /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre de microempresa\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"username\",\n            value: form.username,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"email\",\n            value: form.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            value: form.password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: mode === \"login\" ? \"Entrar\" : \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 465,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"O1krh91wj/4c2jk0S4nzwOLzuOs=\");\n_c4 = App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"SectionCard\");\n$RefreshReg$(_c2, \"DashboardHeader\");\n$RefreshReg$(_c3, \"DataList\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","BrowserRouter","Routes","Route","NavLink","Navigate","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","process","env","REACT_APP_API_BASE","emptyForm","username","email","password","roleLabels","super_usuario","microempresa","cliente","pageTitles","roleMenus","path","label","SectionCard","title","description","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","DashboardHeader","displayName","initials","menuOpen","setMenuOpen","onLogout","_s","location","pathname","type","onClick","prev","to","_c2","DataList","items","emptyLabel","length","map","item","meta","id","tenant_id","_c3","App","_s2","form","setForm","user","setUser","role","setRole","mode","setMode","message","setMessage","roleOptions","setRoleOptions","pendingLogin","setPendingLogin","dashboardData","setDashboardData","nombre","nombre_completo","slice","toUpperCase","menuItems","loadMe","response","fetch","credentials","data","json","loadDashboard","handleChange","event","target","name","value","handleSubmit","preventDefault","method","headers","body","JSON","stringify","ok","error","select_role","roles","handleRoleLogin","selectedRole","handleLogout","dashboardRoutes","element","replace","categorias","cat","estado","planes","plan","precio","usuarios","u","productos","prod","stock","proveedores","prov","suscripcion","fecha_inicio","fecha_fin","microempresas","compras","compra","total","isActive","option","onSubmit","onChange","required","_c4","$RefreshReg$"],"sources":["C:/Users/daron/OneDrive/Escritorio/taller_proyecto/aplicacion_microempresa/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n  NavLink,\n  Navigate,\n  useLocation,\n} from \"react-router-dom\";\n\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\";\n\nconst emptyForm = {\n  username: \"\",\n  email: \"\",\n  password: \"\",\n};\n\nconst roleLabels = {\n  super_usuario: \"Super usuario\",\n  microempresa: \"Microempresa\",\n  cliente: \"Cliente\",\n};\n\nconst pageTitles = {\n  \"/dashboard\": \"Dashboard\",\n  \"/categorias\": \"Categorías\",\n  \"/planes\": \"Planes\",\n  \"/usuarios\": \"Usuarios\",\n  \"/productos\": \"Productos\",\n  \"/proveedores\": \"Proveedores\",\n  \"/suscripcion\": \"Suscripción\",\n  \"/microempresas\": \"Microempresas\",\n  \"/compras\": \"Compras\",\n  \"/perfil\": \"Perfil\",\n};\n\nconst roleMenus = {\n  super_usuario: [\n    { path: \"/categorias\", label: \"Categorías\" },\n    { path: \"/planes\", label: \"Planes\" },\n    { path: \"/usuarios\", label: \"Usuarios\" },\n  ],\n  microempresa: [\n    { path: \"/productos\", label: \"Productos\" },\n    { path: \"/proveedores\", label: \"Proveedores\" },\n    { path: \"/suscripcion\", label: \"Suscripción\" },\n  ],\n  cliente: [\n    { path: \"/microempresas\", label: \"Microempresas\" },\n    { path: \"/compras\", label: \"Compras\" },\n  ],\n};\n\nconst SectionCard = ({ title, description, children }) => (\n  <section className=\"content-card\">\n    <h2>{title}</h2>\n    {description && <p>{description}</p>}\n    {children}\n  </section>\n);\n\nconst DashboardHeader = ({ displayName, initials, menuOpen, setMenuOpen, onLogout }) => {\n  const location = useLocation();\n  const title = pageTitles[location.pathname] || \"Dashboard\";\n\n  return (\n    <header className=\"topbar\">\n      <h1>{title}</h1>\n      <div className=\"user-menu\">\n        <button\n          type=\"button\"\n          className=\"avatar-button\"\n          onClick={() => setMenuOpen((prev) => !prev)}\n        >\n          <span className=\"avatar\">{initials}</span>\n          <span className=\"avatar-name\">{displayName}</span>\n        </button>\n        {menuOpen && (\n          <div className=\"dropdown\">\n            <NavLink\n              to=\"/perfil\"\n              className=\"dropdown-link\"\n              onClick={() => setMenuOpen(false)}\n            >\n              Perfil\n            </NavLink>\n            <button type=\"button\" onClick={onLogout}>\n              Cerrar sesión\n            </button>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n};\n\nconst DataList = ({ items, emptyLabel }) => (\n  <div className=\"data-list\">\n    {items.length === 0 ? (\n      <p className=\"muted\">{emptyLabel}</p>\n    ) : (\n      items.map((item) => (\n        <div className=\"data-row\" key={item.id || item.tenant_id}>\n          <span>{item.label}</span>\n          {item.meta && <span className=\"muted\">{item.meta}</span>}\n        </div>\n      ))\n    )}\n  </div>\n);\n\nexport default function App() {\n  const [form, setForm] = useState(emptyForm);\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [mode, setMode] = useState(\"login\");\n  const [message, setMessage] = useState(\"\");\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [roleOptions, setRoleOptions] = useState([]);\n  const [pendingLogin, setPendingLogin] = useState(null);\n  const [dashboardData, setDashboardData] = useState(null);\n\n  const displayName =\n    user?.nombre || user?.nombre_completo || user?.username || \"Usuario\";\n  const initials = displayName.slice(0, 2).toUpperCase();\n\n  const menuItems = useMemo(() => roleMenus[role] || [], [role]);\n\n  const loadMe = async () => {\n    const response = await fetch(`${API_BASE}/api/me`, {\n      credentials: \"include\",\n    });\n    const data = await response.json();\n    setUser(data.user);\n    setRole(data.role);\n  };\n\n  const loadDashboard = async () => {\n    if (!user) {\n      setDashboardData(null);\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/dashboard`, {\n      credentials: \"include\",\n    });\n    const data = await response.json();\n    setDashboardData(data);\n  };\n\n  useEffect(() => {\n    loadMe();\n  }, []);\n\n  useEffect(() => {\n    loadDashboard();\n  }, [user, role]);\n\n  const handleChange = (event) => {\n    setForm({ ...form, [event.target.name]: event.target.value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setMessage(\"\");\n\n    if (mode === \"login\") {\n      const response = await fetch(`${API_BASE}/api/login`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({\n          email: form.email,\n          password: form.password,\n        }),\n      });\n\n      const data = await response.json();\n      if (!response.ok) {\n        setMessage(data.error || \"Ocurrió un error\");\n        return;\n      }\n\n      if (data.select_role) {\n        setRoleOptions(data.roles || []);\n        setPendingLogin({ email: form.email, password: form.password });\n        return;\n      }\n\n      setUser(data.user);\n      setRole(data.role);\n      setForm(emptyForm);\n      setMenuOpen(false);\n      setRoleOptions([]);\n      setPendingLogin(null);\n      return;\n    }\n\n    const response = await fetch(`${API_BASE}/api/register`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({\n        username: form.username,\n        email: form.email,\n        password: form.password,\n      }),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n\n  const handleRoleLogin = async (selectedRole) => {\n    if (!pendingLogin) {\n      return;\n    }\n\n    const response = await fetch(`${API_BASE}/api/login`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({\n        email: pendingLogin.email,\n        password: pendingLogin.password,\n        role: selectedRole,\n      }),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n\n  const handleLogout = async () => {\n    await fetch(`${API_BASE}/api/logout`, {\n      method: \"POST\",\n      credentials: \"include\",\n    });\n    setUser(null);\n    setRole(null);\n    setMenuOpen(false);\n    setRoleOptions([]);\n    setPendingLogin(null);\n    setDashboardData(null);\n  };\n\n  const dashboardRoutes = () => {\n    if (role === \"super_usuario\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Hola, ${displayName}`}\n                description=\"Resumen general de administración.\"\n              />\n            }\n          />\n          <Route\n            path=\"/categorias\"\n            element={\n              <SectionCard title=\"Categorías\">\n                <DataList\n                  items={(dashboardData?.categorias || []).map((cat) => ({\n                    id: cat.id,\n                    label: cat.nombre,\n                    meta: cat.estado,\n                  }))}\n                  emptyLabel=\"Sin categorías registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/planes\"\n            element={\n              <SectionCard title=\"Planes\">\n                <DataList\n                  items={(dashboardData?.planes || []).map((plan) => ({\n                    id: plan.id,\n                    label: `${plan.nombre} - $${plan.precio}`,\n                    meta: plan.estado,\n                  }))}\n                  emptyLabel=\"Sin planes registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/usuarios\"\n            element={\n              <SectionCard title=\"Microempresas\">\n                <DataList\n                  items={(dashboardData?.usuarios || []).map((u) => ({\n                    id: u.tenant_id,\n                    label: `${u.nombre} (${u.email})`,\n                    meta: u.estado,\n                  }))}\n                  emptyLabel=\"Sin microempresas registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    if (role === \"microempresa\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Bienvenido, ${displayName}`}\n                description=\"Gestiona tu operación desde aquí.\"\n              />\n            }\n          />\n          <Route\n            path=\"/productos\"\n            element={\n              <SectionCard title=\"Productos\">\n                <DataList\n                  items={(dashboardData?.productos || []).map((prod) => ({\n                    id: prod.id,\n                    label: `${prod.nombre} - $${prod.precio}`,\n                    meta: `Stock: ${prod.stock}`,\n                  }))}\n                  emptyLabel=\"Sin productos registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/proveedores\"\n            element={\n              <SectionCard title=\"Proveedores\">\n                <DataList\n                  items={(dashboardData?.proveedores || []).map((prov) => ({\n                    id: prov.id,\n                    label: prov.nombre,\n                    meta: prov.email || prov.estado,\n                  }))}\n                  emptyLabel=\"Sin proveedores registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/suscripcion\"\n            element={\n              <SectionCard title=\"Suscripción\">\n                {dashboardData?.suscripcion ? (\n                  <div className=\"data-list\">\n                    <div className=\"data-row\">\n                      <span>Plan</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.plan || \"Sin plan\"}\n                      </span>\n                    </div>\n                    <div className=\"data-row\">\n                      <span>Inicio</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.fecha_inicio}\n                      </span>\n                    </div>\n                    <div className=\"data-row\">\n                      <span>Fin</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.fecha_fin || \"N/A\"}\n                      </span>\n                    </div>\n                    <div className=\"data-row\">\n                      <span>Estado</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.estado}\n                      </span>\n                    </div>\n                  </div>\n                ) : (\n                  <p className=\"muted\">No hay suscripción activa.</p>\n                )}\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    if (role === \"cliente\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Hola, ${displayName}`}\n                description=\"Consulta tus compras y microempresas disponibles.\"\n              />\n            }\n          />\n          <Route\n            path=\"/microempresas\"\n            element={\n              <SectionCard title=\"Microempresas\">\n                <DataList\n                  items={(dashboardData?.microempresas || []).map((item) => ({\n                    id: item.tenant_id,\n                    label: item.nombre,\n                    meta: item.email,\n                  }))}\n                  emptyLabel=\"No hay microempresas registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/compras\"\n            element={\n              <SectionCard title=\"Compras realizadas\">\n                <DataList\n                  items={(dashboardData?.compras || []).map((compra) => ({\n                    id: compra.id,\n                    label: `Compra #${compra.id} - $${compra.total}`,\n                    meta: compra.microempresa,\n                  }))}\n                  emptyLabel=\"No tienes compras registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <BrowserRouter>\n      {user ? (\n        <div className=\"app-shell\">\n          <aside className=\"sidebar\">\n            <div className=\"brand\">Microempresa</div>\n            <nav className=\"menu\">\n              {menuItems.map((item) => (\n                <NavLink\n                  key={item.path}\n                  to={item.path}\n                  className={({ isActive }) =>\n                    `menu-item${isActive ? \" active\" : \"\"}`\n                  }\n                >\n                  {item.label}\n                </NavLink>\n              ))}\n            </nav>\n          </aside>\n          <div className=\"main\">\n            <DashboardHeader\n              displayName={displayName}\n              initials={initials}\n              menuOpen={menuOpen}\n              setMenuOpen={setMenuOpen}\n              onLogout={handleLogout}\n            />\n            <Routes>\n              {dashboardRoutes()}\n              <Route\n                path=\"/perfil\"\n                element={\n                  <SectionCard title=\"Perfil\">\n                    <p>\n                      Usuario: {displayName}\n                      {user?.email ? ` (${user.email})` : \"\"}\n                    </p>\n                    <p className=\"muted\">Rol: {roleLabels[role] || role}</p>\n                  </SectionCard>\n                }\n              />\n              <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n            </Routes>\n          </div>\n        </div>\n      ) : (\n        <div className=\"container\">\n          <h1>Acceso al sistema</h1>\n\n          {roleOptions.length > 0 ? (\n            <div className=\"card role-picker\">\n              <h2>Selecciona el tipo de usuario</h2>\n              <div className=\"role-options\">\n                {roleOptions.map((option) => (\n                  <button\n                    key={option}\n                    type=\"button\"\n                    onClick={() => handleRoleLogin(option)}\n                  >\n                    {roleLabels[option] || option}\n                  </button>\n                ))}\n              </div>\n              <button\n                type=\"button\"\n                className=\"link-button\"\n                onClick={() => {\n                  setRoleOptions([]);\n                  setPendingLogin(null);\n                }}\n              >\n                Volver\n              </button>\n            </div>\n          ) : (\n            <form className=\"card\" onSubmit={handleSubmit}>\n              <div className=\"tabs\">\n                <button\n                  type=\"button\"\n                  className={mode === \"login\" ? \"active\" : \"\"}\n                  onClick={() => setMode(\"login\")}\n                >\n                  Login\n                </button>\n                <button\n                  type=\"button\"\n                  className={mode === \"register\" ? \"active\" : \"\"}\n                  onClick={() => setMode(\"register\")}\n                >\n                  Registro microempresa\n                </button>\n              </div>\n\n              {mode === \"register\" && (\n                <label>\n                  Nombre de microempresa\n                  <input\n                    name=\"username\"\n                    value={form.username}\n                    onChange={handleChange}\n                    required\n                  />\n                </label>\n              )}\n\n              <label>\n                Email\n                <input\n                  name=\"email\"\n                  type=\"email\"\n                  value={form.email}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n\n              <label>\n                Password\n                <input\n                  name=\"password\"\n                  type=\"password\"\n                  value={form.password}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n\n              <button type=\"submit\">\n                {mode === \"login\" ? \"Entrar\" : \"Registrar\"}\n              </button>\n\n              {message && <p className=\"error\">{message}</p>}\n            </form>\n          )}\n        </div>\n      )}\n    </BrowserRouter>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}