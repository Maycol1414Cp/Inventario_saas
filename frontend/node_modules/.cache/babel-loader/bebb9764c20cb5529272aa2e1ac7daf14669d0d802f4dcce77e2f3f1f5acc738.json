{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\daron\\\\OneDrive\\\\Escritorio\\\\taller_proyecto\\\\aplicacion_microempresa\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { BrowserRouter, Routes, Route, NavLink, Navigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\";\nconst emptyForm = {\n  username: \"\",\n  password: \"\",\n  nombre: \"\",\n  logo_url: \"\",\n  direccion: \"\",\n  horario_atencion: \"\",\n  nombre_completo_prop: \"\",\n  email: \"\",\n  estado: \"activo\",\n  nombre_completo: \"\",\n  es_generico: \"false\"\n};\nconst roleLabels = {\n  super_usuario: \"Super usuario\",\n  microempresa: \"Microempresa\",\n  cliente: \"Cliente\"\n};\nconst pageTitles = {\n  \"/dashboard\": \"Dashboard\",\n  \"/categorias\": \"Categorías\",\n  \"/planes\": \"Planes\",\n  \"/usuarios\": \"Usuarios\",\n  \"/productos\": \"Productos\",\n  \"/proveedores\": \"Proveedores\",\n  \"/suscripcion\": \"Suscripción\",\n  \"/microempresas\": \"Microempresas\",\n  \"/compras\": \"Compras\",\n  \"/perfil\": \"Perfil\"\n};\nconst roleMenus = {\n  super_usuario: [{\n    path: \"/categorias\",\n    label: \"Categorías\"\n  }, {\n    path: \"/planes\",\n    label: \"Planes\"\n  }, {\n    path: \"/usuarios\",\n    label: \"Usuarios\"\n  }],\n  microempresa: [{\n    path: \"/productos\",\n    label: \"Productos\"\n  }, {\n    path: \"/proveedores\",\n    label: \"Proveedores\"\n  }, {\n    path: \"/suscripcion\",\n    label: \"Suscripción\"\n  }],\n  cliente: [{\n    path: \"/microempresas\",\n    label: \"Microempresas\"\n  }, {\n    path: \"/compras\",\n    label: \"Compras\"\n  }]\n};\nconst estadoOptions = [{\n  value: \"activo\",\n  label: \"Activo\"\n}, {\n  value: \"inactivo\",\n  label: \"Inactivo\"\n}];\nconst SectionCard = ({\n  title,\n  description,\n  children\n}) => /*#__PURE__*/_jsxDEV(\"section\", {\n  className: \"content-card\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this), description && /*#__PURE__*/_jsxDEV(\"p\", {\n    children: description\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 21\n  }, this), children]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 69,\n  columnNumber: 3\n}, this);\n_c = SectionCard;\nconst DashboardHeader = ({\n  displayName,\n  initials,\n  menuOpen,\n  setMenuOpen,\n  onLogout\n}) => {\n  _s();\n  const location = useLocation();\n  const title = pageTitles[location.pathname] || \"Dashboard\";\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"topbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"avatar-button\",\n        onClick: () => setMenuOpen(prev => !prev),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"avatar\",\n          children: initials\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"avatar-name\",\n          children: displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), menuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/perfil\",\n          className: \"dropdown-link\",\n          onClick: () => setMenuOpen(false),\n          children: \"Perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onLogout,\n          children: \"Cerrar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardHeader, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c2 = DashboardHeader;\nconst DataList = ({\n  items,\n  emptyLabel\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"data-list\",\n  children: items.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"muted\",\n    children: emptyLabel\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 7\n  }, this) : items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"data-row\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: item.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }, this), item.meta && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"muted\",\n      children: item.meta\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }, this)]\n  }, item.id || item.tenant_id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 9\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 112,\n  columnNumber: 3\n}, this);\n_c3 = DataList;\nexport default function App() {\n  _s2();\n  const [form, setForm] = useState(emptyForm);\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [mode, setMode] = useState(\"login\");\n  const [registerRole, setRegisterRole] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [roleOptions, setRoleOptions] = useState([]);\n  const [pendingLogin, setPendingLogin] = useState(null);\n  const [dashboardData, setDashboardData] = useState(null);\n  const displayName = (user === null || user === void 0 ? void 0 : user.nombre) || (user === null || user === void 0 ? void 0 : user.nombre_completo) || (user === null || user === void 0 ? void 0 : user.username) || \"Usuario\";\n  const initials = displayName.slice(0, 2).toUpperCase();\n  const menuItems = useMemo(() => roleMenus[role] || [], [role]);\n  const loadMe = async () => {\n    const response = await fetch(`${API_BASE}/api/me`, {\n      credentials: \"include\"\n    });\n    const data = await response.json();\n    setUser(data.user);\n    setRole(data.role);\n  };\n  const loadDashboard = async () => {\n    if (!user) {\n      setDashboardData(null);\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/dashboard`, {\n      credentials: \"include\"\n    });\n    const data = await response.json();\n    setDashboardData(data);\n  };\n  useEffect(() => {\n    loadMe();\n  }, []);\n  useEffect(() => {\n    loadDashboard();\n  }, [user, role]);\n  const handleChange = event => {\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n  const resetAuthState = () => {\n    setMessage(\"\");\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setMessage(\"\");\n    if (mode === \"login\") {\n      const response = await fetch(`${API_BASE}/api/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify({\n          username: form.username,\n          password: form.password\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        setMessage(data.error || \"Ocurrió un error\");\n        return;\n      }\n      if (data.select_role) {\n        setRoleOptions(data.roles || []);\n        setPendingLogin({\n          username: form.username,\n          password: form.password\n        });\n        return;\n      }\n      setUser(data.user);\n      setRole(data.role);\n      setForm(emptyForm);\n      setMenuOpen(false);\n      resetAuthState();\n      return;\n    }\n    const registerPayload = {\n      role: registerRole,\n      password: form.password\n    };\n    if (registerRole === \"microempresa\") {\n      Object.assign(registerPayload, {\n        nombre: form.nombre,\n        logo_url: form.logo_url,\n        direccion: form.direccion,\n        horario_atencion: form.horario_atencion,\n        nombre_completo_prop: form.nombre_completo_prop,\n        email: form.email,\n        estado: form.estado\n      });\n    }\n    if (registerRole === \"super_usuario\") {\n      Object.assign(registerPayload, {\n        nombre_completo: form.nombre_completo,\n        email: form.email\n      });\n    }\n    if (registerRole === \"cliente\") {\n      Object.assign(registerPayload, {\n        nombre_completo: form.nombre_completo,\n        email: form.email,\n        estado: form.estado,\n        es_generico: form.es_generico === \"true\"\n      });\n    }\n    const response = await fetch(`${API_BASE}/api/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify(registerPayload)\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    resetAuthState();\n  };\n  const handleRoleLogin = async selectedRole => {\n    if (!pendingLogin) {\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        username: pendingLogin.username,\n        password: pendingLogin.password,\n        role: selectedRole\n      })\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    resetAuthState();\n  };\n  const handleLogout = async () => {\n    await fetch(`${API_BASE}/api/logout`, {\n      method: \"POST\",\n      credentials: \"include\"\n    });\n    setUser(null);\n    setRole(null);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    setForm(emptyForm);\n    resetAuthState();\n    setDashboardData(null);\n  };\n  const dashboardRoutes = () => {\n    if (role === \"super_usuario\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Hola, ${displayName}`,\n            description: \"Resumen general de administraci\\xF3n.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/categorias\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Categor\\xEDas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.categorias) || []).map(cat => ({\n                id: cat.id,\n                label: cat.nombre,\n                meta: cat.estado\n              })),\n              emptyLabel: \"Sin categor\\xEDas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/planes\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Planes\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.planes) || []).map(plan => ({\n                id: plan.id,\n                label: `${plan.nombre} - $${plan.precio}`,\n                meta: plan.estado\n              })),\n              emptyLabel: \"Sin planes registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/usuarios\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Microempresas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.usuarios) || []).map(u => ({\n                id: u.tenant_id,\n                label: `${u.nombre} (${u.email})`,\n                meta: u.estado\n              })),\n              emptyLabel: \"Sin microempresas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (role === \"microempresa\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Bienvenido, ${displayName}`,\n            description: \"Gestiona tu operaci\\xF3n desde aqu\\xED.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/productos\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Productos\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.productos) || []).map(prod => ({\n                id: prod.id,\n                label: `${prod.nombre} - $${prod.precio}`,\n                meta: `Stock: ${prod.stock}`\n              })),\n              emptyLabel: \"Sin productos registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/proveedores\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Proveedores\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.proveedores) || []).map(prov => ({\n                id: prov.id,\n                label: prov.nombre,\n                meta: prov.email || prov.estado\n              })),\n              emptyLabel: \"Sin proveedores registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/suscripcion\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Suscripci\\xF3n\",\n            children: dashboardData !== null && dashboardData !== void 0 && dashboardData.suscripcion ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"data-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Plan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.plan || \"Sin plan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Inicio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.fecha_inicio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Fin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.fecha_fin || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.estado\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"muted\",\n              children: \"No hay suscripci\\xF3n activa.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (role === \"cliente\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Hola, ${displayName}`,\n            description: \"Consulta tus compras y microempresas disponibles.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/microempresas\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Microempresas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.microempresas) || []).map(item => ({\n                id: item.tenant_id,\n                label: item.nombre,\n                meta: item.email\n              })),\n              emptyLabel: \"No hay microempresas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/compras\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Compras realizadas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.compras) || []).map(compra => ({\n                id: compra.id,\n                label: `Compra #${compra.id} - $${compra.total}`,\n                meta: compra.microempresa\n              })),\n              emptyLabel: \"No tienes compras registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    return null;\n  };\n  const renderRegisterFields = () => {\n    if (registerRole === \"microempresa\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre de microempresa\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"nombre\",\n            value: form.nombre,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Logo URL\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"logo_url\",\n            type: \"url\",\n            value: form.logo_url,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Direcci\\xF3n\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"direccion\",\n            value: form.direccion,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Horario de atenci\\xF3n\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"horario_atencion\",\n            value: form.horario_atencion,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre completo propietario\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"nombre_completo_prop\",\n            value: form.nombre_completo_prop,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"email\",\n            value: form.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Estado\", /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"estado\",\n            value: form.estado,\n            onChange: handleChange,\n            required: true,\n            children: estadoOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (registerRole === \"super_usuario\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre completo\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"nombre_completo\",\n            value: form.nombre_completo,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"email\",\n            value: form.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (registerRole === \"cliente\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre completo\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"nombre_completo\",\n            value: form.nombre_completo,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"email\",\n            value: form.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Estado\", /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"estado\",\n            value: form.estado,\n            onChange: handleChange,\n            required: true,\n            children: estadoOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Es gen\\xE9rico\", /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"es_generico\",\n            value: form.es_generico,\n            onChange: handleChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"false\",\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"true\",\n              children: \"S\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-shell\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand\",\n          children: \"Microempresa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"menu\",\n          children: menuItems.map(item => /*#__PURE__*/_jsxDEV(NavLink, {\n            to: item.path,\n            className: ({\n              isActive\n            }) => `menu-item${isActive ? \" active\" : \"\"}`,\n            children: item.label\n          }, item.path, false, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(DashboardHeader, {\n          displayName: displayName,\n          initials: initials,\n          menuOpen: menuOpen,\n          setMenuOpen: setMenuOpen,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [dashboardRoutes(), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/perfil\",\n            element: /*#__PURE__*/_jsxDEV(SectionCard, {\n              title: \"Perfil\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Usuario: \", displayName, user !== null && user !== void 0 && user.email ? ` (${user.email})` : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"muted\",\n                children: [\"Rol: \", roleLabels[role] || role]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/dashboard\",\n              replace: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Acceso al sistema\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 11\n      }, this), roleOptions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card role-picker\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Selecciona el tipo de usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"role-options\",\n          children: roleOptions.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleRoleLogin(option),\n            children: roleLabels[option] || option\n          }, option, false, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"link-button\",\n          onClick: () => {\n            setRoleOptions([]);\n            setPendingLogin(null);\n          },\n          children: \"Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 13\n      }, this) : mode === \"register\" ? /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-title\",\n          children: [\"Registro \", roleLabels[registerRole] || \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 15\n        }, this), renderRegisterFields(), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            value: form.password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 765,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"link-button\",\n          onClick: () => {\n            setMode(\"login\");\n            setRegisterRole(null);\n            setForm(emptyForm);\n            resetAuthState();\n          },\n          children: \"Volver al login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Usuario\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"username\",\n            value: form.username,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            value: form.password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 800,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"register-text\",\n          children: \"\\xBFNo tienes cuenta? Reg\\xEDstrate:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-links\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: () => {\n              setMode(\"register\");\n              setRegisterRole(\"super_usuario\");\n              setForm(emptyForm);\n              resetAuthState();\n            },\n            children: \"Superusuarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: () => {\n              setMode(\"register\");\n              setRegisterRole(\"microempresa\");\n              setForm(emptyForm);\n              resetAuthState();\n            },\n            children: \"Microempresas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: () => {\n              setMode(\"register\");\n              setRegisterRole(\"cliente\");\n              setForm(emptyForm);\n              resetAuthState();\n            },\n            children: \"Clientes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 673,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"w4Gon3QVH/U5lz3UwSaKiqnA5z4=\");\n_c4 = App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"SectionCard\");\n$RefreshReg$(_c2, \"DashboardHeader\");\n$RefreshReg$(_c3, \"DataList\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","BrowserRouter","Routes","Route","NavLink","Navigate","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","process","env","REACT_APP_API_BASE","emptyForm","username","password","nombre","logo_url","direccion","horario_atencion","nombre_completo_prop","email","estado","nombre_completo","es_generico","roleLabels","super_usuario","microempresa","cliente","pageTitles","roleMenus","path","label","estadoOptions","value","SectionCard","title","description","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","DashboardHeader","displayName","initials","menuOpen","setMenuOpen","onLogout","_s","location","pathname","type","onClick","prev","to","_c2","DataList","items","emptyLabel","length","map","item","meta","id","tenant_id","_c3","App","_s2","form","setForm","user","setUser","role","setRole","mode","setMode","registerRole","setRegisterRole","message","setMessage","roleOptions","setRoleOptions","pendingLogin","setPendingLogin","dashboardData","setDashboardData","slice","toUpperCase","menuItems","loadMe","response","fetch","credentials","data","json","loadDashboard","handleChange","event","target","name","resetAuthState","handleSubmit","preventDefault","method","headers","body","JSON","stringify","ok","error","select_role","roles","registerPayload","Object","assign","handleRoleLogin","selectedRole","handleLogout","dashboardRoutes","element","replace","categorias","cat","planes","plan","precio","usuarios","u","productos","prod","stock","proveedores","prov","suscripcion","fecha_inicio","fecha_fin","microempresas","compras","compra","total","renderRegisterFields","onChange","required","option","isActive","onSubmit","_c4","$RefreshReg$"],"sources":["C:/Users/daron/OneDrive/Escritorio/taller_proyecto/aplicacion_microempresa/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n  NavLink,\n  Navigate,\n  useLocation,\n} from \"react-router-dom\";\n\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\";\n\nconst emptyForm = {\n  username: \"\",\n  password: \"\",\n  nombre: \"\",\n  logo_url: \"\",\n  direccion: \"\",\n  horario_atencion: \"\",\n  nombre_completo_prop: \"\",\n  email: \"\",\n  estado: \"activo\",\n  nombre_completo: \"\",\n  es_generico: \"false\",\n};\n\nconst roleLabels = {\n  super_usuario: \"Super usuario\",\n  microempresa: \"Microempresa\",\n  cliente: \"Cliente\",\n};\n\nconst pageTitles = {\n  \"/dashboard\": \"Dashboard\",\n  \"/categorias\": \"Categorías\",\n  \"/planes\": \"Planes\",\n  \"/usuarios\": \"Usuarios\",\n  \"/productos\": \"Productos\",\n  \"/proveedores\": \"Proveedores\",\n  \"/suscripcion\": \"Suscripción\",\n  \"/microempresas\": \"Microempresas\",\n  \"/compras\": \"Compras\",\n  \"/perfil\": \"Perfil\",\n};\n\nconst roleMenus = {\n  super_usuario: [\n    { path: \"/categorias\", label: \"Categorías\" },\n    { path: \"/planes\", label: \"Planes\" },\n    { path: \"/usuarios\", label: \"Usuarios\" },\n  ],\n  microempresa: [\n    { path: \"/productos\", label: \"Productos\" },\n    { path: \"/proveedores\", label: \"Proveedores\" },\n    { path: \"/suscripcion\", label: \"Suscripción\" },\n  ],\n  cliente: [\n    { path: \"/microempresas\", label: \"Microempresas\" },\n    { path: \"/compras\", label: \"Compras\" },\n  ],\n};\n\nconst estadoOptions = [\n  { value: \"activo\", label: \"Activo\" },\n  { value: \"inactivo\", label: \"Inactivo\" },\n];\n\nconst SectionCard = ({ title, description, children }) => (\n  <section className=\"content-card\">\n    <h2>{title}</h2>\n    {description && <p>{description}</p>}\n    {children}\n  </section>\n);\n\nconst DashboardHeader = ({ displayName, initials, menuOpen, setMenuOpen, onLogout }) => {\n  const location = useLocation();\n  const title = pageTitles[location.pathname] || \"Dashboard\";\n\n  return (\n    <header className=\"topbar\">\n      <h1>{title}</h1>\n      <div className=\"user-menu\">\n        <button\n          type=\"button\"\n          className=\"avatar-button\"\n          onClick={() => setMenuOpen((prev) => !prev)}\n        >\n          <span className=\"avatar\">{initials}</span>\n          <span className=\"avatar-name\">{displayName}</span>\n        </button>\n        {menuOpen && (\n          <div className=\"dropdown\">\n            <NavLink\n              to=\"/perfil\"\n              className=\"dropdown-link\"\n              onClick={() => setMenuOpen(false)}\n            >\n              Perfil\n            </NavLink>\n            <button type=\"button\" onClick={onLogout}>\n              Cerrar sesión\n            </button>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n};\n\nconst DataList = ({ items, emptyLabel }) => (\n  <div className=\"data-list\">\n    {items.length === 0 ? (\n      <p className=\"muted\">{emptyLabel}</p>\n    ) : (\n      items.map((item) => (\n        <div className=\"data-row\" key={item.id || item.tenant_id}>\n          <span>{item.label}</span>\n          {item.meta && <span className=\"muted\">{item.meta}</span>}\n        </div>\n      ))\n    )}\n  </div>\n);\n\nexport default function App() {\n  const [form, setForm] = useState(emptyForm);\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [mode, setMode] = useState(\"login\");\n  const [registerRole, setRegisterRole] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [roleOptions, setRoleOptions] = useState([]);\n  const [pendingLogin, setPendingLogin] = useState(null);\n  const [dashboardData, setDashboardData] = useState(null);\n\n  const displayName =\n    user?.nombre || user?.nombre_completo || user?.username || \"Usuario\";\n  const initials = displayName.slice(0, 2).toUpperCase();\n\n  const menuItems = useMemo(() => roleMenus[role] || [], [role]);\n\n  const loadMe = async () => {\n    const response = await fetch(`${API_BASE}/api/me`, {\n      credentials: \"include\",\n    });\n    const data = await response.json();\n    setUser(data.user);\n    setRole(data.role);\n  };\n\n  const loadDashboard = async () => {\n    if (!user) {\n      setDashboardData(null);\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/dashboard`, {\n      credentials: \"include\",\n    });\n    const data = await response.json();\n    setDashboardData(data);\n  };\n\n  useEffect(() => {\n    loadMe();\n  }, []);\n\n  useEffect(() => {\n    loadDashboard();\n  }, [user, role]);\n\n  const handleChange = (event) => {\n    setForm({ ...form, [event.target.name]: event.target.value });\n  };\n\n  const resetAuthState = () => {\n    setMessage(\"\");\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setMessage(\"\");\n\n    if (mode === \"login\") {\n      const response = await fetch(`${API_BASE}/api/login`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({\n          username: form.username,\n          password: form.password,\n        }),\n      });\n\n      const data = await response.json();\n      if (!response.ok) {\n        setMessage(data.error || \"Ocurrió un error\");\n        return;\n      }\n\n      if (data.select_role) {\n        setRoleOptions(data.roles || []);\n        setPendingLogin({ username: form.username, password: form.password });\n        return;\n      }\n\n      setUser(data.user);\n      setRole(data.role);\n      setForm(emptyForm);\n      setMenuOpen(false);\n      resetAuthState();\n      return;\n    }\n\n    const registerPayload = { role: registerRole, password: form.password };\n\n    if (registerRole === \"microempresa\") {\n      Object.assign(registerPayload, {\n        nombre: form.nombre,\n        logo_url: form.logo_url,\n        direccion: form.direccion,\n        horario_atencion: form.horario_atencion,\n        nombre_completo_prop: form.nombre_completo_prop,\n        email: form.email,\n        estado: form.estado,\n      });\n    }\n\n    if (registerRole === \"super_usuario\") {\n      Object.assign(registerPayload, {\n        nombre_completo: form.nombre_completo,\n        email: form.email,\n      });\n    }\n\n    if (registerRole === \"cliente\") {\n      Object.assign(registerPayload, {\n        nombre_completo: form.nombre_completo,\n        email: form.email,\n        estado: form.estado,\n        es_generico: form.es_generico === \"true\",\n      });\n    }\n\n    const response = await fetch(`${API_BASE}/api/register`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify(registerPayload),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    resetAuthState();\n  };\n\n  const handleRoleLogin = async (selectedRole) => {\n    if (!pendingLogin) {\n      return;\n    }\n\n    const response = await fetch(`${API_BASE}/api/login`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({\n        username: pendingLogin.username,\n        password: pendingLogin.password,\n        role: selectedRole,\n      }),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    resetAuthState();\n  };\n\n  const handleLogout = async () => {\n    await fetch(`${API_BASE}/api/logout`, {\n      method: \"POST\",\n      credentials: \"include\",\n    });\n    setUser(null);\n    setRole(null);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    setForm(emptyForm);\n    resetAuthState();\n    setDashboardData(null);\n  };\n\n  const dashboardRoutes = () => {\n    if (role === \"super_usuario\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Hola, ${displayName}`}\n                description=\"Resumen general de administración.\"\n              />\n            }\n          />\n          <Route\n            path=\"/categorias\"\n            element={\n              <SectionCard title=\"Categorías\">\n                <DataList\n                  items={(dashboardData?.categorias || []).map((cat) => ({\n                    id: cat.id,\n                    label: cat.nombre,\n                    meta: cat.estado,\n                  }))}\n                  emptyLabel=\"Sin categorías registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/planes\"\n            element={\n              <SectionCard title=\"Planes\">\n                <DataList\n                  items={(dashboardData?.planes || []).map((plan) => ({\n                    id: plan.id,\n                    label: `${plan.nombre} - $${plan.precio}`,\n                    meta: plan.estado,\n                  }))}\n                  emptyLabel=\"Sin planes registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/usuarios\"\n            element={\n              <SectionCard title=\"Microempresas\">\n                <DataList\n                  items={(dashboardData?.usuarios || []).map((u) => ({\n                    id: u.tenant_id,\n                    label: `${u.nombre} (${u.email})`,\n                    meta: u.estado,\n                  }))}\n                  emptyLabel=\"Sin microempresas registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    if (role === \"microempresa\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Bienvenido, ${displayName}`}\n                description=\"Gestiona tu operación desde aquí.\"\n              />\n            }\n          />\n          <Route\n            path=\"/productos\"\n            element={\n              <SectionCard title=\"Productos\">\n                <DataList\n                  items={(dashboardData?.productos || []).map((prod) => ({\n                    id: prod.id,\n                    label: `${prod.nombre} - $${prod.precio}`,\n                    meta: `Stock: ${prod.stock}`,\n                  }))}\n                  emptyLabel=\"Sin productos registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/proveedores\"\n            element={\n              <SectionCard title=\"Proveedores\">\n                <DataList\n                  items={(dashboardData?.proveedores || []).map((prov) => ({\n                    id: prov.id,\n                    label: prov.nombre,\n                    meta: prov.email || prov.estado,\n                  }))}\n                  emptyLabel=\"Sin proveedores registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/suscripcion\"\n            element={\n              <SectionCard title=\"Suscripción\">\n                {dashboardData?.suscripcion ? (\n                  <div className=\"data-list\">\n                    <div className=\"data-row\">\n                      <span>Plan</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.plan || \"Sin plan\"}\n                      </span>\n                    </div>\n                    <div className=\"data-row\">\n                      <span>Inicio</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.fecha_inicio}\n                      </span>\n                    </div>\n                    <div className=\"data-row\">\n                      <span>Fin</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.fecha_fin || \"N/A\"}\n                      </span>\n                    </div>\n                    <div className=\"data-row\">\n                      <span>Estado</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.estado}\n                      </span>\n                    </div>\n                  </div>\n                ) : (\n                  <p className=\"muted\">No hay suscripción activa.</p>\n                )}\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    if (role === \"cliente\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Hola, ${displayName}`}\n                description=\"Consulta tus compras y microempresas disponibles.\"\n              />\n            }\n          />\n          <Route\n            path=\"/microempresas\"\n            element={\n              <SectionCard title=\"Microempresas\">\n                <DataList\n                  items={(dashboardData?.microempresas || []).map((item) => ({\n                    id: item.tenant_id,\n                    label: item.nombre,\n                    meta: item.email,\n                  }))}\n                  emptyLabel=\"No hay microempresas registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/compras\"\n            element={\n              <SectionCard title=\"Compras realizadas\">\n                <DataList\n                  items={(dashboardData?.compras || []).map((compra) => ({\n                    id: compra.id,\n                    label: `Compra #${compra.id} - $${compra.total}`,\n                    meta: compra.microempresa,\n                  }))}\n                  emptyLabel=\"No tienes compras registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  const renderRegisterFields = () => {\n    if (registerRole === \"microempresa\") {\n      return (\n        <>\n          <label>\n            Nombre de microempresa\n            <input\n              name=\"nombre\"\n              value={form.nombre}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Logo URL\n            <input\n              name=\"logo_url\"\n              type=\"url\"\n              value={form.logo_url}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Dirección\n            <input\n              name=\"direccion\"\n              value={form.direccion}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Horario de atención\n            <input\n              name=\"horario_atencion\"\n              value={form.horario_atencion}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Nombre completo propietario\n            <input\n              name=\"nombre_completo_prop\"\n              value={form.nombre_completo_prop}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Email\n            <input\n              name=\"email\"\n              type=\"email\"\n              value={form.email}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Estado\n            <select\n              name=\"estado\"\n              value={form.estado}\n              onChange={handleChange}\n              required\n            >\n              {estadoOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </label>\n        </>\n      );\n    }\n\n    if (registerRole === \"super_usuario\") {\n      return (\n        <>\n          <label>\n            Nombre completo\n            <input\n              name=\"nombre_completo\"\n              value={form.nombre_completo}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Email\n            <input\n              name=\"email\"\n              type=\"email\"\n              value={form.email}\n              onChange={handleChange}\n              required\n            />\n          </label>\n        </>\n      );\n    }\n\n    if (registerRole === \"cliente\") {\n      return (\n        <>\n          <label>\n            Nombre completo\n            <input\n              name=\"nombre_completo\"\n              value={form.nombre_completo}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Email\n            <input\n              name=\"email\"\n              type=\"email\"\n              value={form.email}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Estado\n            <select\n              name=\"estado\"\n              value={form.estado}\n              onChange={handleChange}\n              required\n            >\n              {estadoOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </label>\n          <label>\n            Es genérico\n            <select\n              name=\"es_generico\"\n              value={form.es_generico}\n              onChange={handleChange}\n              required\n            >\n              <option value=\"false\">No</option>\n              <option value=\"true\">Sí</option>\n            </select>\n          </label>\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <BrowserRouter>\n      {user ? (\n        <div className=\"app-shell\">\n          <aside className=\"sidebar\">\n            <div className=\"brand\">Microempresa</div>\n            <nav className=\"menu\">\n              {menuItems.map((item) => (\n                <NavLink\n                  key={item.path}\n                  to={item.path}\n                  className={({ isActive }) =>\n                    `menu-item${isActive ? \" active\" : \"\"}`\n                  }\n                >\n                  {item.label}\n                </NavLink>\n              ))}\n            </nav>\n          </aside>\n          <div className=\"main\">\n            <DashboardHeader\n              displayName={displayName}\n              initials={initials}\n              menuOpen={menuOpen}\n              setMenuOpen={setMenuOpen}\n              onLogout={handleLogout}\n            />\n            <Routes>\n              {dashboardRoutes()}\n              <Route\n                path=\"/perfil\"\n                element={\n                  <SectionCard title=\"Perfil\">\n                    <p>\n                      Usuario: {displayName}\n                      {user?.email ? ` (${user.email})` : \"\"}\n                    </p>\n                    <p className=\"muted\">Rol: {roleLabels[role] || role}</p>\n                  </SectionCard>\n                }\n              />\n              <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n            </Routes>\n          </div>\n        </div>\n      ) : (\n        <div className=\"container\">\n          <h1>Acceso al sistema</h1>\n\n          {roleOptions.length > 0 ? (\n            <div className=\"card role-picker\">\n              <h2>Selecciona el tipo de usuario</h2>\n              <div className=\"role-options\">\n                {roleOptions.map((option) => (\n                  <button\n                    key={option}\n                    type=\"button\"\n                    onClick={() => handleRoleLogin(option)}\n                  >\n                    {roleLabels[option] || option}\n                  </button>\n                ))}\n              </div>\n              {message && <p className=\"error\">{message}</p>}\n              <button\n                type=\"button\"\n                className=\"link-button\"\n                onClick={() => {\n                  setRoleOptions([]);\n                  setPendingLogin(null);\n                }}\n              >\n                Volver\n              </button>\n            </div>\n          ) : mode === \"register\" ? (\n            <form className=\"card\" onSubmit={handleSubmit}>\n              <div className=\"form-title\">\n                Registro {roleLabels[registerRole] || \"\"}\n              </div>\n              {renderRegisterFields()}\n              <label>\n                Password\n                <input\n                  name=\"password\"\n                  type=\"password\"\n                  value={form.password}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <button type=\"submit\">Registrar</button>\n              {message && <p className=\"error\">{message}</p>}\n              <button\n                type=\"button\"\n                className=\"link-button\"\n                onClick={() => {\n                  setMode(\"login\");\n                  setRegisterRole(null);\n                  setForm(emptyForm);\n                  resetAuthState();\n                }}\n              >\n                Volver al login\n              </button>\n            </form>\n          ) : (\n            <form className=\"card\" onSubmit={handleSubmit}>\n              <label>\n                Usuario\n                <input\n                  name=\"username\"\n                  value={form.username}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <label>\n                Password\n                <input\n                  name=\"password\"\n                  type=\"password\"\n                  value={form.password}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <button type=\"submit\">Entrar</button>\n              {message && <p className=\"error\">{message}</p>}\n              <p className=\"register-text\">\n                ¿No tienes cuenta? Regístrate:\n              </p>\n              <div className=\"register-links\">\n                <button\n                  type=\"button\"\n                  className=\"link-button\"\n                  onClick={() => {\n                    setMode(\"register\");\n                    setRegisterRole(\"super_usuario\");\n                    setForm(emptyForm);\n                    resetAuthState();\n                  }}\n                >\n                  Superusuarios\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"link-button\"\n                  onClick={() => {\n                    setMode(\"register\");\n                    setRegisterRole(\"microempresa\");\n                    setForm(emptyForm);\n                    resetAuthState();\n                  }}\n                >\n                  Microempresas\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"link-button\"\n                  onClick={() => {\n                    setMode(\"register\");\n                    setRegisterRole(\"cliente\");\n                    setForm(emptyForm);\n                    resetAuthState();\n                  }}\n                >\n                  Clientes\n                </button>\n              </div>\n            </form>\n          )}\n        </div>\n      )}\n    </BrowserRouter>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}