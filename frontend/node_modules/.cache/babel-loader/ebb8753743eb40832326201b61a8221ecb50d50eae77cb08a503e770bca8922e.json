{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\daron\\\\OneDrive\\\\Escritorio\\\\taller_proyecto\\\\aplicacion_microempresa\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { BrowserRouter, Routes, Route, NavLink, Navigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\";\nconst emptyForm = {\n  username: \"\",\n  password: \"\",\n  name: \"\",\n  email: \"\"\n};\nconst roleLabels = {\n  super_usuario: \"Super usuario\",\n  microempresa: \"Microempresa\",\n  cliente: \"Cliente\"\n};\nconst pageTitles = {\n  \"/dashboard\": \"Dashboard\",\n  \"/categorias\": \"Categorías\",\n  \"/planes\": \"Planes\",\n  \"/usuarios\": \"Usuarios\",\n  \"/productos\": \"Productos\",\n  \"/proveedores\": \"Proveedores\",\n  \"/suscripcion\": \"Suscripción\",\n  \"/microempresas\": \"Microempresas\",\n  \"/compras\": \"Compras\",\n  \"/perfil\": \"Perfil\"\n};\nconst roleMenus = {\n  super_usuario: [{\n    path: \"/categorias\",\n    label: \"Categorías\"\n  }, {\n    path: \"/planes\",\n    label: \"Planes\"\n  }, {\n    path: \"/usuarios\",\n    label: \"Usuarios\"\n  }],\n  microempresa: [{\n    path: \"/productos\",\n    label: \"Productos\"\n  }, {\n    path: \"/proveedores\",\n    label: \"Proveedores\"\n  }, {\n    path: \"/suscripcion\",\n    label: \"Suscripción\"\n  }],\n  cliente: [{\n    path: \"/microempresas\",\n    label: \"Microempresas\"\n  }, {\n    path: \"/compras\",\n    label: \"Compras\"\n  }]\n};\nconst SectionCard = ({\n  title,\n  description,\n  children\n}) => /*#__PURE__*/_jsxDEV(\"section\", {\n  className: \"content-card\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this), description && /*#__PURE__*/_jsxDEV(\"p\", {\n    children: description\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 21\n  }, this), children]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 57,\n  columnNumber: 3\n}, this);\n_c = SectionCard;\nconst DashboardHeader = ({\n  displayName,\n  initials,\n  menuOpen,\n  setMenuOpen,\n  onLogout\n}) => {\n  _s();\n  const location = useLocation();\n  const title = pageTitles[location.pathname] || \"Dashboard\";\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"topbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"avatar-button\",\n        onClick: () => setMenuOpen(prev => !prev),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"avatar\",\n          children: initials\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"avatar-name\",\n          children: displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), menuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/perfil\",\n          className: \"dropdown-link\",\n          onClick: () => setMenuOpen(false),\n          children: \"Perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onLogout,\n          children: \"Cerrar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardHeader, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c2 = DashboardHeader;\nconst DataList = ({\n  items,\n  emptyLabel\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"data-list\",\n  children: items.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"muted\",\n    children: emptyLabel\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 7\n  }, this) : items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"data-row\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: item.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }, this), item.meta && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"muted\",\n      children: item.meta\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }, this)]\n  }, item.id || item.tenant_id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 100,\n  columnNumber: 3\n}, this);\n_c3 = DataList;\nexport default function App() {\n  _s2();\n  const [form, setForm] = useState(emptyForm);\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [mode, setMode] = useState(\"login\");\n  const [registerRole, setRegisterRole] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [roleOptions, setRoleOptions] = useState([]);\n  const [pendingLogin, setPendingLogin] = useState(null);\n  const [dashboardData, setDashboardData] = useState(null);\n  const displayName = (user === null || user === void 0 ? void 0 : user.nombre) || (user === null || user === void 0 ? void 0 : user.nombre_completo) || (user === null || user === void 0 ? void 0 : user.username) || \"Usuario\";\n  const initials = displayName.slice(0, 2).toUpperCase();\n  const menuItems = useMemo(() => roleMenus[role] || [], [role]);\n  const loadMe = async () => {\n    const response = await fetch(`${API_BASE}/api/me`, {\n      credentials: \"include\"\n    });\n    const data = await response.json();\n    setUser(data.user);\n    setRole(data.role);\n  };\n  const loadDashboard = async () => {\n    if (!user) {\n      setDashboardData(null);\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/dashboard`, {\n      credentials: \"include\"\n    });\n    const data = await response.json();\n    setDashboardData(data);\n  };\n  useEffect(() => {\n    loadMe();\n  }, []);\n  useEffect(() => {\n    loadDashboard();\n  }, [user, role]);\n  const handleChange = event => {\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n  const resetAuthState = () => {\n    setMessage(\"\");\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setMessage(\"\");\n    if (mode === \"login\") {\n      const response = await fetch(`${API_BASE}/api/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify({\n          username: form.username,\n          password: form.password\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        setMessage(data.error || \"Ocurrió un error\");\n        return;\n      }\n      if (data.select_role) {\n        setRoleOptions(data.roles || []);\n        setPendingLogin({\n          username: form.username,\n          password: form.password\n        });\n        return;\n      }\n      setUser(data.user);\n      setRole(data.role);\n      setForm(emptyForm);\n      setMenuOpen(false);\n      resetAuthState();\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        role: registerRole,\n        name: form.name,\n        email: form.email,\n        password: form.password\n      })\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    resetAuthState();\n  };\n  const handleRoleLogin = async selectedRole => {\n    if (!pendingLogin) {\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        username: pendingLogin.username,\n        password: pendingLogin.password,\n        role: selectedRole\n      })\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    resetAuthState();\n  };\n  const handleLogout = async () => {\n    await fetch(`${API_BASE}/api/logout`, {\n      method: \"POST\",\n      credentials: \"include\"\n    });\n    setUser(null);\n    setRole(null);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    setForm(emptyForm);\n    resetAuthState();\n    setDashboardData(null);\n  };\n  const dashboardRoutes = () => {\n    if (role === \"super_usuario\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Hola, ${displayName}`,\n            description: \"Resumen general de administraci\\xF3n.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/categorias\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Categor\\xEDas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.categorias) || []).map(cat => ({\n                id: cat.id,\n                label: cat.nombre,\n                meta: cat.estado\n              })),\n              emptyLabel: \"Sin categor\\xEDas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/planes\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Planes\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.planes) || []).map(plan => ({\n                id: plan.id,\n                label: `${plan.nombre} - $${plan.precio}`,\n                meta: plan.estado\n              })),\n              emptyLabel: \"Sin planes registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/usuarios\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Microempresas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.usuarios) || []).map(u => ({\n                id: u.tenant_id,\n                label: `${u.nombre} (${u.email})`,\n                meta: u.estado\n              })),\n              emptyLabel: \"Sin microempresas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (role === \"microempresa\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Bienvenido, ${displayName}`,\n            description: \"Gestiona tu operaci\\xF3n desde aqu\\xED.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/productos\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Productos\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.productos) || []).map(prod => ({\n                id: prod.id,\n                label: `${prod.nombre} - $${prod.precio}`,\n                meta: `Stock: ${prod.stock}`\n              })),\n              emptyLabel: \"Sin productos registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/proveedores\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Proveedores\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.proveedores) || []).map(prov => ({\n                id: prov.id,\n                label: prov.nombre,\n                meta: prov.email || prov.estado\n              })),\n              emptyLabel: \"Sin proveedores registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/suscripcion\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Suscripci\\xF3n\",\n            children: dashboardData !== null && dashboardData !== void 0 && dashboardData.suscripcion ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"data-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Plan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.plan || \"Sin plan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Inicio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.fecha_inicio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Fin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.fecha_fin || \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData.suscripcion.estado\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"muted\",\n              children: \"No hay suscripci\\xF3n activa.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (role === \"cliente\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Hola, ${displayName}`,\n            description: \"Consulta tus compras y microempresas disponibles.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/microempresas\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Microempresas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.microempresas) || []).map(item => ({\n                id: item.tenant_id,\n                label: item.nombre,\n                meta: item.email\n              })),\n              emptyLabel: \"No hay microempresas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/compras\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Compras realizadas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.compras) || []).map(compra => ({\n                id: compra.id,\n                label: `Compra #${compra.id} - $${compra.total}`,\n                meta: compra.microempresa\n              })),\n              emptyLabel: \"No tienes compras registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-shell\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand\",\n          children: \"Microempresa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"menu\",\n          children: menuItems.map(item => /*#__PURE__*/_jsxDEV(NavLink, {\n            to: item.path,\n            className: ({\n              isActive\n            }) => `menu-item${isActive ? \" active\" : \"\"}`,\n            children: item.label\n          }, item.path, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(DashboardHeader, {\n          displayName: displayName,\n          initials: initials,\n          menuOpen: menuOpen,\n          setMenuOpen: setMenuOpen,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [dashboardRoutes(), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/perfil\",\n            element: /*#__PURE__*/_jsxDEV(SectionCard, {\n              title: \"Perfil\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Usuario: \", displayName, user !== null && user !== void 0 && user.email ? ` (${user.email})` : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"muted\",\n                children: [\"Rol: \", roleLabels[role] || role]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/dashboard\",\n              replace: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Acceso al sistema\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 11\n      }, this), roleOptions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card role-picker\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Selecciona el tipo de usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"role-options\",\n          children: roleOptions.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleRoleLogin(option),\n            children: roleLabels[option] || option\n          }, option, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"link-button\",\n          onClick: () => {\n            setRoleOptions([]);\n            setPendingLogin(null);\n          },\n          children: \"Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 13\n      }, this) : mode === \"register\" ? /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-title\",\n          children: [\"Registro \", roleLabels[registerRole] || \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            value: form.name,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"email\",\n            value: form.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            value: form.password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"link-button\",\n          onClick: () => {\n            setMode(\"login\");\n            setRegisterRole(null);\n            setForm(emptyForm);\n            resetAuthState();\n          },\n          children: \"Volver al login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Usuario\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"username\",\n            value: form.username,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            value: form.password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"register-text\",\n          children: \"\\xBFNo tienes cuenta? Reg\\xEDstrate:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-links\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: () => {\n              setMode(\"register\");\n              setRegisterRole(\"super_usuario\");\n              setForm(emptyForm);\n              resetAuthState();\n            },\n            children: \"Superusuarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: () => {\n              setMode(\"register\");\n              setRegisterRole(\"microempresa\");\n              setForm(emptyForm);\n              resetAuthState();\n            },\n            children: \"Microempresas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: () => {\n              setMode(\"register\");\n              setRegisterRole(\"cliente\");\n              setForm(emptyForm);\n              resetAuthState();\n            },\n            children: \"Clientes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 475,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"w4Gon3QVH/U5lz3UwSaKiqnA5z4=\");\n_c4 = App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"SectionCard\");\n$RefreshReg$(_c2, \"DashboardHeader\");\n$RefreshReg$(_c3, \"DataList\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","BrowserRouter","Routes","Route","NavLink","Navigate","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","process","env","REACT_APP_API_BASE","emptyForm","username","password","name","email","roleLabels","super_usuario","microempresa","cliente","pageTitles","roleMenus","path","label","SectionCard","title","description","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","DashboardHeader","displayName","initials","menuOpen","setMenuOpen","onLogout","_s","location","pathname","type","onClick","prev","to","_c2","DataList","items","emptyLabel","length","map","item","meta","id","tenant_id","_c3","App","_s2","form","setForm","user","setUser","role","setRole","mode","setMode","registerRole","setRegisterRole","message","setMessage","roleOptions","setRoleOptions","pendingLogin","setPendingLogin","dashboardData","setDashboardData","nombre","nombre_completo","slice","toUpperCase","menuItems","loadMe","response","fetch","credentials","data","json","loadDashboard","handleChange","event","target","value","resetAuthState","handleSubmit","preventDefault","method","headers","body","JSON","stringify","ok","error","select_role","roles","handleRoleLogin","selectedRole","handleLogout","dashboardRoutes","element","replace","categorias","cat","estado","planes","plan","precio","usuarios","u","productos","prod","stock","proveedores","prov","suscripcion","fecha_inicio","fecha_fin","microempresas","compras","compra","total","isActive","option","onSubmit","onChange","required","_c4","$RefreshReg$"],"sources":["C:/Users/daron/OneDrive/Escritorio/taller_proyecto/aplicacion_microempresa/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n  NavLink,\n  Navigate,\n  useLocation,\n} from \"react-router-dom\";\n\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\";\n\nconst emptyForm = {\n  username: \"\",\n  password: \"\",\n  name: \"\",\n  email: \"\",\n};\n\nconst roleLabels = {\n  super_usuario: \"Super usuario\",\n  microempresa: \"Microempresa\",\n  cliente: \"Cliente\",\n};\n\nconst pageTitles = {\n  \"/dashboard\": \"Dashboard\",\n  \"/categorias\": \"Categorías\",\n  \"/planes\": \"Planes\",\n  \"/usuarios\": \"Usuarios\",\n  \"/productos\": \"Productos\",\n  \"/proveedores\": \"Proveedores\",\n  \"/suscripcion\": \"Suscripción\",\n  \"/microempresas\": \"Microempresas\",\n  \"/compras\": \"Compras\",\n  \"/perfil\": \"Perfil\",\n};\n\nconst roleMenus = {\n  super_usuario: [\n    { path: \"/categorias\", label: \"Categorías\" },\n    { path: \"/planes\", label: \"Planes\" },\n    { path: \"/usuarios\", label: \"Usuarios\" },\n  ],\n  microempresa: [\n    { path: \"/productos\", label: \"Productos\" },\n    { path: \"/proveedores\", label: \"Proveedores\" },\n    { path: \"/suscripcion\", label: \"Suscripción\" },\n  ],\n  cliente: [\n    { path: \"/microempresas\", label: \"Microempresas\" },\n    { path: \"/compras\", label: \"Compras\" },\n  ],\n};\n\nconst SectionCard = ({ title, description, children }) => (\n  <section className=\"content-card\">\n    <h2>{title}</h2>\n    {description && <p>{description}</p>}\n    {children}\n  </section>\n);\n\nconst DashboardHeader = ({ displayName, initials, menuOpen, setMenuOpen, onLogout }) => {\n  const location = useLocation();\n  const title = pageTitles[location.pathname] || \"Dashboard\";\n\n  return (\n    <header className=\"topbar\">\n      <h1>{title}</h1>\n      <div className=\"user-menu\">\n        <button\n          type=\"button\"\n          className=\"avatar-button\"\n          onClick={() => setMenuOpen((prev) => !prev)}\n        >\n          <span className=\"avatar\">{initials}</span>\n          <span className=\"avatar-name\">{displayName}</span>\n        </button>\n        {menuOpen && (\n          <div className=\"dropdown\">\n            <NavLink\n              to=\"/perfil\"\n              className=\"dropdown-link\"\n              onClick={() => setMenuOpen(false)}\n            >\n              Perfil\n            </NavLink>\n            <button type=\"button\" onClick={onLogout}>\n              Cerrar sesión\n            </button>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n};\n\nconst DataList = ({ items, emptyLabel }) => (\n  <div className=\"data-list\">\n    {items.length === 0 ? (\n      <p className=\"muted\">{emptyLabel}</p>\n    ) : (\n      items.map((item) => (\n        <div className=\"data-row\" key={item.id || item.tenant_id}>\n          <span>{item.label}</span>\n          {item.meta && <span className=\"muted\">{item.meta}</span>}\n        </div>\n      ))\n    )}\n  </div>\n);\n\nexport default function App() {\n  const [form, setForm] = useState(emptyForm);\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [mode, setMode] = useState(\"login\");\n  const [registerRole, setRegisterRole] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [roleOptions, setRoleOptions] = useState([]);\n  const [pendingLogin, setPendingLogin] = useState(null);\n  const [dashboardData, setDashboardData] = useState(null);\n\n  const displayName =\n    user?.nombre || user?.nombre_completo || user?.username || \"Usuario\";\n  const initials = displayName.slice(0, 2).toUpperCase();\n\n  const menuItems = useMemo(() => roleMenus[role] || [], [role]);\n\n  const loadMe = async () => {\n    const response = await fetch(`${API_BASE}/api/me`, {\n      credentials: \"include\",\n    });\n    const data = await response.json();\n    setUser(data.user);\n    setRole(data.role);\n  };\n\n  const loadDashboard = async () => {\n    if (!user) {\n      setDashboardData(null);\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/dashboard`, {\n      credentials: \"include\",\n    });\n    const data = await response.json();\n    setDashboardData(data);\n  };\n\n  useEffect(() => {\n    loadMe();\n  }, []);\n\n  useEffect(() => {\n    loadDashboard();\n  }, [user, role]);\n\n  const handleChange = (event) => {\n    setForm({ ...form, [event.target.name]: event.target.value });\n  };\n\n  const resetAuthState = () => {\n    setMessage(\"\");\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setMessage(\"\");\n\n    if (mode === \"login\") {\n      const response = await fetch(`${API_BASE}/api/login`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({\n          username: form.username,\n          password: form.password,\n        }),\n      });\n\n      const data = await response.json();\n      if (!response.ok) {\n        setMessage(data.error || \"Ocurrió un error\");\n        return;\n      }\n\n      if (data.select_role) {\n        setRoleOptions(data.roles || []);\n        setPendingLogin({ username: form.username, password: form.password });\n        return;\n      }\n\n      setUser(data.user);\n      setRole(data.role);\n      setForm(emptyForm);\n      setMenuOpen(false);\n      resetAuthState();\n      return;\n    }\n\n    const response = await fetch(`${API_BASE}/api/register`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({\n        role: registerRole,\n        name: form.name,\n        email: form.email,\n        password: form.password,\n      }),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    resetAuthState();\n  };\n\n  const handleRoleLogin = async (selectedRole) => {\n    if (!pendingLogin) {\n      return;\n    }\n\n    const response = await fetch(`${API_BASE}/api/login`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({\n        username: pendingLogin.username,\n        password: pendingLogin.password,\n        role: selectedRole,\n      }),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n\n    setUser(data.user);\n    setRole(data.role);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    resetAuthState();\n  };\n\n  const handleLogout = async () => {\n    await fetch(`${API_BASE}/api/logout`, {\n      method: \"POST\",\n      credentials: \"include\",\n    });\n    setUser(null);\n    setRole(null);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    setForm(emptyForm);\n    resetAuthState();\n    setDashboardData(null);\n  };\n\n  const dashboardRoutes = () => {\n    if (role === \"super_usuario\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Hola, ${displayName}`}\n                description=\"Resumen general de administración.\"\n              />\n            }\n          />\n          <Route\n            path=\"/categorias\"\n            element={\n              <SectionCard title=\"Categorías\">\n                <DataList\n                  items={(dashboardData?.categorias || []).map((cat) => ({\n                    id: cat.id,\n                    label: cat.nombre,\n                    meta: cat.estado,\n                  }))}\n                  emptyLabel=\"Sin categorías registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/planes\"\n            element={\n              <SectionCard title=\"Planes\">\n                <DataList\n                  items={(dashboardData?.planes || []).map((plan) => ({\n                    id: plan.id,\n                    label: `${plan.nombre} - $${plan.precio}`,\n                    meta: plan.estado,\n                  }))}\n                  emptyLabel=\"Sin planes registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/usuarios\"\n            element={\n              <SectionCard title=\"Microempresas\">\n                <DataList\n                  items={(dashboardData?.usuarios || []).map((u) => ({\n                    id: u.tenant_id,\n                    label: `${u.nombre} (${u.email})`,\n                    meta: u.estado,\n                  }))}\n                  emptyLabel=\"Sin microempresas registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    if (role === \"microempresa\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Bienvenido, ${displayName}`}\n                description=\"Gestiona tu operación desde aquí.\"\n              />\n            }\n          />\n          <Route\n            path=\"/productos\"\n            element={\n              <SectionCard title=\"Productos\">\n                <DataList\n                  items={(dashboardData?.productos || []).map((prod) => ({\n                    id: prod.id,\n                    label: `${prod.nombre} - $${prod.precio}`,\n                    meta: `Stock: ${prod.stock}`,\n                  }))}\n                  emptyLabel=\"Sin productos registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/proveedores\"\n            element={\n              <SectionCard title=\"Proveedores\">\n                <DataList\n                  items={(dashboardData?.proveedores || []).map((prov) => ({\n                    id: prov.id,\n                    label: prov.nombre,\n                    meta: prov.email || prov.estado,\n                  }))}\n                  emptyLabel=\"Sin proveedores registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/suscripcion\"\n            element={\n              <SectionCard title=\"Suscripción\">\n                {dashboardData?.suscripcion ? (\n                  <div className=\"data-list\">\n                    <div className=\"data-row\">\n                      <span>Plan</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.plan || \"Sin plan\"}\n                      </span>\n                    </div>\n                    <div className=\"data-row\">\n                      <span>Inicio</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.fecha_inicio}\n                      </span>\n                    </div>\n                    <div className=\"data-row\">\n                      <span>Fin</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.fecha_fin || \"N/A\"}\n                      </span>\n                    </div>\n                    <div className=\"data-row\">\n                      <span>Estado</span>\n                      <span className=\"muted\">\n                        {dashboardData.suscripcion.estado}\n                      </span>\n                    </div>\n                  </div>\n                ) : (\n                  <p className=\"muted\">No hay suscripción activa.</p>\n                )}\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    if (role === \"cliente\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Hola, ${displayName}`}\n                description=\"Consulta tus compras y microempresas disponibles.\"\n              />\n            }\n          />\n          <Route\n            path=\"/microempresas\"\n            element={\n              <SectionCard title=\"Microempresas\">\n                <DataList\n                  items={(dashboardData?.microempresas || []).map((item) => ({\n                    id: item.tenant_id,\n                    label: item.nombre,\n                    meta: item.email,\n                  }))}\n                  emptyLabel=\"No hay microempresas registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/compras\"\n            element={\n              <SectionCard title=\"Compras realizadas\">\n                <DataList\n                  items={(dashboardData?.compras || []).map((compra) => ({\n                    id: compra.id,\n                    label: `Compra #${compra.id} - $${compra.total}`,\n                    meta: compra.microempresa,\n                  }))}\n                  emptyLabel=\"No tienes compras registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <BrowserRouter>\n      {user ? (\n        <div className=\"app-shell\">\n          <aside className=\"sidebar\">\n            <div className=\"brand\">Microempresa</div>\n            <nav className=\"menu\">\n              {menuItems.map((item) => (\n                <NavLink\n                  key={item.path}\n                  to={item.path}\n                  className={({ isActive }) =>\n                    `menu-item${isActive ? \" active\" : \"\"}`\n                  }\n                >\n                  {item.label}\n                </NavLink>\n              ))}\n            </nav>\n          </aside>\n          <div className=\"main\">\n            <DashboardHeader\n              displayName={displayName}\n              initials={initials}\n              menuOpen={menuOpen}\n              setMenuOpen={setMenuOpen}\n              onLogout={handleLogout}\n            />\n            <Routes>\n              {dashboardRoutes()}\n              <Route\n                path=\"/perfil\"\n                element={\n                  <SectionCard title=\"Perfil\">\n                    <p>\n                      Usuario: {displayName}\n                      {user?.email ? ` (${user.email})` : \"\"}\n                    </p>\n                    <p className=\"muted\">Rol: {roleLabels[role] || role}</p>\n                  </SectionCard>\n                }\n              />\n              <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n            </Routes>\n          </div>\n        </div>\n      ) : (\n        <div className=\"container\">\n          <h1>Acceso al sistema</h1>\n\n          {roleOptions.length > 0 ? (\n            <div className=\"card role-picker\">\n              <h2>Selecciona el tipo de usuario</h2>\n              <div className=\"role-options\">\n                {roleOptions.map((option) => (\n                  <button\n                    key={option}\n                    type=\"button\"\n                    onClick={() => handleRoleLogin(option)}\n                  >\n                    {roleLabels[option] || option}\n                  </button>\n                ))}\n              </div>\n              {message && <p className=\"error\">{message}</p>}\n              <button\n                type=\"button\"\n                className=\"link-button\"\n                onClick={() => {\n                  setRoleOptions([]);\n                  setPendingLogin(null);\n                }}\n              >\n                Volver\n              </button>\n            </div>\n          ) : mode === \"register\" ? (\n            <form className=\"card\" onSubmit={handleSubmit}>\n              <div className=\"form-title\">\n                Registro {roleLabels[registerRole] || \"\"}\n              </div>\n              <label>\n                Nombre\n                <input\n                  name=\"name\"\n                  value={form.name}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <label>\n                Email\n                <input\n                  name=\"email\"\n                  type=\"email\"\n                  value={form.email}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <label>\n                Password\n                <input\n                  name=\"password\"\n                  type=\"password\"\n                  value={form.password}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <button type=\"submit\">Registrar</button>\n              {message && <p className=\"error\">{message}</p>}\n              <button\n                type=\"button\"\n                className=\"link-button\"\n                onClick={() => {\n                  setMode(\"login\");\n                  setRegisterRole(null);\n                  setForm(emptyForm);\n                  resetAuthState();\n                }}\n              >\n                Volver al login\n              </button>\n            </form>\n          ) : (\n            <form className=\"card\" onSubmit={handleSubmit}>\n              <label>\n                Usuario\n                <input\n                  name=\"username\"\n                  value={form.username}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <label>\n                Password\n                <input\n                  name=\"password\"\n                  type=\"password\"\n                  value={form.password}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <button type=\"submit\">Entrar</button>\n              {message && <p className=\"error\">{message}</p>}\n              <p className=\"register-text\">\n                ¿No tienes cuenta? Regístrate:\n              </p>\n              <div className=\"register-links\">\n                <button\n                  type=\"button\"\n                  className=\"link-button\"\n                  onClick={() => {\n                    setMode(\"register\");\n                    setRegisterRole(\"super_usuario\");\n                    setForm(emptyForm);\n                    resetAuthState();\n                  }}\n                >\n                  Superusuarios\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"link-button\"\n                  onClick={() => {\n                    setMode(\"register\");\n                    setRegisterRole(\"microempresa\");\n                    setForm(emptyForm);\n                    resetAuthState();\n                  }}\n                >\n                  Microempresas\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"link-button\"\n                  onClick={() => {\n                    setMode(\"register\");\n                    setRegisterRole(\"cliente\");\n                    setForm(emptyForm);\n                    resetAuthState();\n                  }}\n                >\n                  Clientes\n                </button>\n              </div>\n            </form>\n          )}\n        </div>\n      )}\n    </BrowserRouter>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}