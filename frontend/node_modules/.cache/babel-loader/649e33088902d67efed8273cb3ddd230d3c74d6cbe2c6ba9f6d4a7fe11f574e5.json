{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\daron\\\\OneDrive\\\\Escritorio\\\\taller_proyecto\\\\aplicacion_microempresa\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { BrowserRouter, Routes, Route, NavLink, Navigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\";\nconst emptyForm = {\n  username: \"\",\n  password: \"\",\n  nombre: \"\",\n  logo_url: \"\",\n  direccion: \"\",\n  horario_inicio: \"\",\n  horario_fin: \"\",\n  nombre_propietario: \"\",\n  email: \"\",\n  estado: \"activo\",\n  nombre_completo: \"\",\n  razon_social: \"\",\n  es_generico: \"false\"\n};\nconst roleLabels = {\n  super_usuario: \"Super usuario\",\n  microempresa: \"Microempresa\",\n  cliente: \"Cliente\"\n};\nconst pageTitles = {\n  \"/dashboard\": \"Dashboard\",\n  \"/microempresas\": \"Microempresas\",\n  \"/clientes\": \"Clientes\",\n  \"/mi-empresa\": \"Mi empresa\",\n  \"/perfil\": \"Perfil\"\n};\nconst roleMenus = {\n  super_usuario: [{\n    path: \"/microempresas\",\n    label: \"Microempresas\"\n  }, {\n    path: \"/clientes\",\n    label: \"Clientes\"\n  }],\n  microempresa: [{\n    path: \"/mi-empresa\",\n    label: \"Mi empresa\"\n  }],\n  cliente: [{\n    path: \"/microempresas\",\n    label: \"Microempresas\"\n  }]\n};\nconst estadoOptions = [{\n  value: \"activo\",\n  label: \"Activo\"\n}, {\n  value: \"inactivo\",\n  label: \"Inactivo\"\n}];\nconst SectionCard = ({\n  title,\n  description,\n  children\n}) => /*#__PURE__*/_jsxDEV(\"section\", {\n  className: \"content-card\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this), description && /*#__PURE__*/_jsxDEV(\"p\", {\n    children: description\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 21\n  }, this), children]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 58,\n  columnNumber: 3\n}, this);\n_c = SectionCard;\nconst DashboardHeader = ({\n  displayName,\n  initials,\n  avatarUrl,\n  menuOpen,\n  setMenuOpen,\n  onLogout,\n  availableRoles,\n  currentRole,\n  onSwitchRole\n}) => {\n  _s();\n  const location = useLocation();\n  const title = pageTitles[location.pathname] || \"Dashboard\";\n  const switchRoles = availableRoles.filter(role => role !== currentRole);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"topbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"avatar-button\",\n        onClick: () => setMenuOpen(prev => !prev),\n        children: [avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"avatar-image\",\n          src: avatarUrl,\n          alt: displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"avatar\",\n          children: initials\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"avatar-name\",\n          children: displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), menuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: [switchRoles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dropdown-title\",\n            children: \"Cambiar rol\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this), switchRoles.map(role => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => onSwitchRole(role),\n            children: roleLabels[role] || role\n          }, role, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/perfil\",\n          className: \"dropdown-link\",\n          onClick: () => setMenuOpen(false),\n          children: \"Perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onLogout,\n          children: \"Cerrar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardHeader, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c2 = DashboardHeader;\nconst DataList = ({\n  items,\n  emptyLabel\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"data-list\",\n  children: items.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"muted\",\n    children: emptyLabel\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 7\n  }, this) : items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"data-row\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: item.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }, this), item.meta && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"muted\",\n      children: item.meta\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }, this)]\n  }, item.id || item.tenant_id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 130,\n  columnNumber: 3\n}, this);\n_c3 = DataList;\nexport default function App() {\n  _s2();\n  const [form, setForm] = useState(emptyForm);\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [mode, setMode] = useState(\"login\");\n  const [registerRole, setRegisterRole] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [roleOptions, setRoleOptions] = useState([]);\n  const [pendingLogin, setPendingLogin] = useState(null);\n  const [dashboardData, setDashboardData] = useState(null);\n  const [availableRoles, setAvailableRoles] = useState([]);\n  const displayName = (user === null || user === void 0 ? void 0 : user.nombre) || (user === null || user === void 0 ? void 0 : user.nombre_completo) || (user === null || user === void 0 ? void 0 : user.username) || \"Usuario\";\n  const initials = displayName.slice(0, 2).toUpperCase();\n  const avatarUrl = role === \"microempresa\" ? user === null || user === void 0 ? void 0 : user.logo_url : null;\n  const menuItems = useMemo(() => roleMenus[role] || [], [role]);\n  const loadMe = async () => {\n    const response = await fetch(`${API_BASE}/api/me`, {\n      credentials: \"include\"\n    });\n    const data = await response.json();\n    setUser(data.user);\n    setRole(data.role);\n    setAvailableRoles(data.available_roles || []);\n  };\n  const loadDashboard = async () => {\n    if (!user) {\n      setDashboardData(null);\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/dashboard`, {\n      credentials: \"include\"\n    });\n    const data = await response.json();\n    setDashboardData(data);\n  };\n  useEffect(() => {\n    loadMe();\n  }, []);\n  useEffect(() => {\n    loadDashboard();\n  }, [user, role]);\n  const handleChange = event => {\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n  const resetAuthState = () => {\n    setMessage(\"\");\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setMessage(\"\");\n    if (mode === \"login\") {\n      const response = await fetch(`${API_BASE}/api/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify({\n          username: form.username,\n          password: form.password\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        setMessage(data.error || \"Ocurrió un error\");\n        return;\n      }\n      if (data.select_role) {\n        setRoleOptions(data.roles || []);\n        setPendingLogin({\n          username: form.username,\n          password: form.password\n        });\n        return;\n      }\n      setUser(data.user);\n      setRole(data.role);\n      setAvailableRoles(data.available_roles || []);\n      setForm(emptyForm);\n      setMenuOpen(false);\n      resetAuthState();\n      return;\n    }\n    if (registerRole === \"microempresa\") {\n      if (!form.horario_inicio || !form.horario_fin) {\n        setMessage(\"Debes seleccionar un rango de horario válido\");\n        return;\n      }\n      if (form.horario_inicio >= form.horario_fin) {\n        setMessage(\"El horario de fin debe ser mayor al de inicio\");\n        return;\n      }\n    }\n    const registerPayload = {\n      role: registerRole,\n      password: form.password\n    };\n    if (registerRole === \"microempresa\") {\n      Object.assign(registerPayload, {\n        nombre: form.nombre,\n        logo_url: form.logo_url,\n        direccion: form.direccion,\n        horario_atencion: `${form.horario_inicio} - ${form.horario_fin}`,\n        nombre_propietario: form.nombre_propietario,\n        email: form.email,\n        estado: form.estado\n      });\n    }\n    if (registerRole === \"super_usuario\") {\n      Object.assign(registerPayload, {\n        nombre_completo: form.nombre_completo,\n        email: form.email\n      });\n    }\n    if (registerRole === \"cliente\") {\n      Object.assign(registerPayload, {\n        nombre: form.nombre,\n        razon_social: form.razon_social,\n        email: form.email,\n        estado: form.estado,\n        es_generico: form.es_generico === \"true\"\n      });\n    }\n    const response = await fetch(`${API_BASE}/api/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify(registerPayload)\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n    setUser(data.user);\n    setRole(data.role);\n    setAvailableRoles(data.available_roles || []);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    resetAuthState();\n  };\n  const handleRoleLogin = async selectedRole => {\n    if (!pendingLogin) {\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        username: pendingLogin.username,\n        password: pendingLogin.password,\n        role: selectedRole\n      })\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n    setUser(data.user);\n    setRole(data.role);\n    setAvailableRoles(data.available_roles || []);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    resetAuthState();\n  };\n  const handleSwitchRole = async selectedRole => {\n    const response = await fetch(`${API_BASE}/api/switch-role`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        role: selectedRole\n      })\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n    setUser(data.user);\n    setRole(data.role);\n    setAvailableRoles(data.available_roles || []);\n    setMenuOpen(false);\n  };\n  const handleLogout = async () => {\n    await fetch(`${API_BASE}/api/logout`, {\n      method: \"POST\",\n      credentials: \"include\"\n    });\n    setUser(null);\n    setRole(null);\n    setAvailableRoles([]);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    setForm(emptyForm);\n    resetAuthState();\n    setDashboardData(null);\n  };\n  const dashboardRoutes = () => {\n    if (role === \"super_usuario\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Hola, ${displayName}`,\n            description: \"Administraci\\xF3n de microempresas y clientes.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/microempresas\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Microempresas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.microempresas) || []).map(item => ({\n                id: item.tenant_id,\n                label: `${item.nombre} (${item.email})`,\n                meta: item.estado\n              })),\n              emptyLabel: \"Sin microempresas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/clientes\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Clientes\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.clientes) || []).map(item => ({\n                id: item.id,\n                label: `${item.nombre} - ${item.razon_social}`,\n                meta: item.estado\n              })),\n              emptyLabel: \"Sin clientes registrados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (role === \"microempresa\") {\n      var _dashboardData$microe, _dashboardData$microe2, _dashboardData$microe3, _dashboardData$microe4, _dashboardData$microe5;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Bienvenido, ${displayName}`,\n            description: \"Informaci\\xF3n general de tu empresa.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/mi-empresa\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Mi empresa\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"data-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Nombre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData === null || dashboardData === void 0 ? void 0 : (_dashboardData$microe = dashboardData.microempresa) === null || _dashboardData$microe === void 0 ? void 0 : _dashboardData$microe.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Propietario\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData === null || dashboardData === void 0 ? void 0 : (_dashboardData$microe2 = dashboardData.microempresa) === null || _dashboardData$microe2 === void 0 ? void 0 : _dashboardData$microe2.nombre_propietario\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Horario\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData === null || dashboardData === void 0 ? void 0 : (_dashboardData$microe3 = dashboardData.microempresa) === null || _dashboardData$microe3 === void 0 ? void 0 : _dashboardData$microe3.horario_atencion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData === null || dashboardData === void 0 ? void 0 : (_dashboardData$microe4 = dashboardData.microempresa) === null || _dashboardData$microe4 === void 0 ? void 0 : _dashboardData$microe4.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"muted\",\n                  children: dashboardData === null || dashboardData === void 0 ? void 0 : (_dashboardData$microe5 = dashboardData.microempresa) === null || _dashboardData$microe5 === void 0 ? void 0 : _dashboardData$microe5.estado\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (role === \"cliente\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: `Hola, ${displayName}`,\n            description: \"Selecciona una microempresa para explorar.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/microempresas\",\n          element: /*#__PURE__*/_jsxDEV(SectionCard, {\n            title: \"Microempresas\",\n            children: /*#__PURE__*/_jsxDEV(DataList, {\n              items: ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.microempresas) || []).map(item => ({\n                id: item.tenant_id,\n                label: item.nombre,\n                meta: item.email\n              })),\n              emptyLabel: \"No hay microempresas registradas.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    return null;\n  };\n  const renderRegisterFields = () => {\n    if (registerRole === \"microempresa\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre de microempresa\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"nombre\",\n            value: form.nombre,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Logo URL (opcional)\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"logo_url\",\n            type: \"url\",\n            value: form.logo_url,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Direcci\\xF3n\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"direccion\",\n            value: form.direccion,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Horario de atenci\\xF3n (inicio)\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"horario_inicio\",\n            type: \"time\",\n            value: form.horario_inicio,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Horario de atenci\\xF3n (fin)\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"horario_fin\",\n            type: \"time\",\n            value: form.horario_fin,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre del propietario\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"nombre_propietario\",\n            value: form.nombre_propietario,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"email\",\n            value: form.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Estado\", /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"estado\",\n            value: form.estado,\n            onChange: handleChange,\n            required: true,\n            children: estadoOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (registerRole === \"super_usuario\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre completo\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"nombre_completo\",\n            value: form.nombre_completo,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"email\",\n            value: form.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (registerRole === \"cliente\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nombre\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"nombre\",\n            value: form.nombre,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Raz\\xF3n social\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"razon_social\",\n            value: form.razon_social,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"email\",\n            value: form.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Estado\", /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"estado\",\n            value: form.estado,\n            onChange: handleChange,\n            required: true,\n            children: estadoOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Es gen\\xE9rico\", /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"es_generico\",\n            value: form.es_generico,\n            onChange: handleChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"false\",\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"true\",\n              children: \"S\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-shell\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand\",\n          children: \"Microempresa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"menu\",\n          children: menuItems.map(item => /*#__PURE__*/_jsxDEV(NavLink, {\n            to: item.path,\n            className: ({\n              isActive\n            }) => `menu-item${isActive ? \" active\" : \"\"}`,\n            children: item.label\n          }, item.path, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 690,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(DashboardHeader, {\n          displayName: displayName,\n          initials: initials,\n          avatarUrl: avatarUrl,\n          menuOpen: menuOpen,\n          setMenuOpen: setMenuOpen,\n          onLogout: handleLogout,\n          availableRoles: availableRoles,\n          currentRole: role,\n          onSwitchRole: handleSwitchRole\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [dashboardRoutes(), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/perfil\",\n            element: /*#__PURE__*/_jsxDEV(SectionCard, {\n              title: \"Perfil\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Usuario: \", displayName, user !== null && user !== void 0 && user.email ? ` (${user.email})` : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"muted\",\n                children: [\"Rol: \", roleLabels[role] || role]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/dashboard\",\n              replace: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 687,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Acceso al sistema\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 11\n      }, this), roleOptions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card role-picker\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Selecciona el tipo de usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"role-options\",\n          children: roleOptions.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleRoleLogin(option),\n            children: roleLabels[option] || option\n          }, option, false, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 752,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"link-button\",\n          onClick: () => {\n            setRoleOptions([]);\n            setPendingLogin(null);\n          },\n          children: \"Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 13\n      }, this) : mode === \"register\" ? /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-title\",\n          children: [\"Registro \", roleLabels[registerRole] || \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 15\n        }, this), renderRegisterFields(), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            value: form.password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"link-button\",\n          onClick: () => {\n            setMode(\"login\");\n            setRegisterRole(null);\n            setForm(emptyForm);\n            resetAuthState();\n          },\n          children: \"Volver al login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 782,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Usuario\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"username\",\n            value: form.username,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            value: form.password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 816,\n          columnNumber: 15\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 817,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"register-text\",\n          children: \"\\xBFNo tienes cuenta? Reg\\xEDstrate:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-links\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: () => {\n              setMode(\"register\");\n              setRegisterRole(\"super_usuario\");\n              setForm(emptyForm);\n              resetAuthState();\n            },\n            children: \"Superusuarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 822,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: () => {\n              setMode(\"register\");\n              setRegisterRole(\"microempresa\");\n              setForm(emptyForm);\n              resetAuthState();\n            },\n            children: \"Microempresas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"link-button\",\n            onClick: () => {\n              setMode(\"register\");\n              setRegisterRole(\"cliente\");\n              setForm(emptyForm);\n              resetAuthState();\n            },\n            children: \"Clientes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 735,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 685,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"JOGMtkDnA7g1CPUTAWIyTLAvmsQ=\");\n_c4 = App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"SectionCard\");\n$RefreshReg$(_c2, \"DashboardHeader\");\n$RefreshReg$(_c3, \"DataList\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","BrowserRouter","Routes","Route","NavLink","Navigate","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","process","env","REACT_APP_API_BASE","emptyForm","username","password","nombre","logo_url","direccion","horario_inicio","horario_fin","nombre_propietario","email","estado","nombre_completo","razon_social","es_generico","roleLabels","super_usuario","microempresa","cliente","pageTitles","roleMenus","path","label","estadoOptions","value","SectionCard","title","description","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","DashboardHeader","displayName","initials","avatarUrl","menuOpen","setMenuOpen","onLogout","availableRoles","currentRole","onSwitchRole","_s","location","pathname","switchRoles","filter","role","type","onClick","prev","src","alt","length","map","to","_c2","DataList","items","emptyLabel","item","meta","id","tenant_id","_c3","App","_s2","form","setForm","user","setUser","setRole","mode","setMode","registerRole","setRegisterRole","message","setMessage","roleOptions","setRoleOptions","pendingLogin","setPendingLogin","dashboardData","setDashboardData","setAvailableRoles","slice","toUpperCase","menuItems","loadMe","response","fetch","credentials","data","json","available_roles","loadDashboard","handleChange","event","target","name","resetAuthState","handleSubmit","preventDefault","method","headers","body","JSON","stringify","ok","error","select_role","roles","registerPayload","Object","assign","horario_atencion","handleRoleLogin","selectedRole","handleSwitchRole","handleLogout","dashboardRoutes","element","replace","microempresas","clientes","_dashboardData$microe","_dashboardData$microe2","_dashboardData$microe3","_dashboardData$microe4","_dashboardData$microe5","renderRegisterFields","onChange","required","option","isActive","onSubmit","_c4","$RefreshReg$"],"sources":["C:/Users/daron/OneDrive/Escritorio/taller_proyecto/aplicacion_microempresa/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n  NavLink,\n  Navigate,\n  useLocation,\n} from \"react-router-dom\";\n\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\";\n\nconst emptyForm = {\n  username: \"\",\n  password: \"\",\n  nombre: \"\",\n  logo_url: \"\",\n  direccion: \"\",\n  horario_inicio: \"\",\n  horario_fin: \"\",\n  nombre_propietario: \"\",\n  email: \"\",\n  estado: \"activo\",\n  nombre_completo: \"\",\n  razon_social: \"\",\n  es_generico: \"false\",\n};\n\nconst roleLabels = {\n  super_usuario: \"Super usuario\",\n  microempresa: \"Microempresa\",\n  cliente: \"Cliente\",\n};\n\nconst pageTitles = {\n  \"/dashboard\": \"Dashboard\",\n  \"/microempresas\": \"Microempresas\",\n  \"/clientes\": \"Clientes\",\n  \"/mi-empresa\": \"Mi empresa\",\n  \"/perfil\": \"Perfil\",\n};\n\nconst roleMenus = {\n  super_usuario: [\n    { path: \"/microempresas\", label: \"Microempresas\" },\n    { path: \"/clientes\", label: \"Clientes\" },\n  ],\n  microempresa: [{ path: \"/mi-empresa\", label: \"Mi empresa\" }],\n  cliente: [{ path: \"/microempresas\", label: \"Microempresas\" }],\n};\n\nconst estadoOptions = [\n  { value: \"activo\", label: \"Activo\" },\n  { value: \"inactivo\", label: \"Inactivo\" },\n];\n\nconst SectionCard = ({ title, description, children }) => (\n  <section className=\"content-card\">\n    <h2>{title}</h2>\n    {description && <p>{description}</p>}\n    {children}\n  </section>\n);\n\nconst DashboardHeader = ({\n  displayName,\n  initials,\n  avatarUrl,\n  menuOpen,\n  setMenuOpen,\n  onLogout,\n  availableRoles,\n  currentRole,\n  onSwitchRole,\n}) => {\n  const location = useLocation();\n  const title = pageTitles[location.pathname] || \"Dashboard\";\n  const switchRoles = availableRoles.filter((role) => role !== currentRole);\n\n  return (\n    <header className=\"topbar\">\n      <h1>{title}</h1>\n      <div className=\"user-menu\">\n        <button\n          type=\"button\"\n          className=\"avatar-button\"\n          onClick={() => setMenuOpen((prev) => !prev)}\n        >\n          {avatarUrl ? (\n            <img className=\"avatar-image\" src={avatarUrl} alt={displayName} />\n          ) : (\n            <span className=\"avatar\">{initials}</span>\n          )}\n          <span className=\"avatar-name\">{displayName}</span>\n        </button>\n        {menuOpen && (\n          <div className=\"dropdown\">\n            {switchRoles.length > 0 && (\n              <div className=\"dropdown-section\">\n                <span className=\"dropdown-title\">Cambiar rol</span>\n                {switchRoles.map((role) => (\n                  <button\n                    key={role}\n                    type=\"button\"\n                    onClick={() => onSwitchRole(role)}\n                  >\n                    {roleLabels[role] || role}\n                  </button>\n                ))}\n              </div>\n            )}\n            <NavLink\n              to=\"/perfil\"\n              className=\"dropdown-link\"\n              onClick={() => setMenuOpen(false)}\n            >\n              Perfil\n            </NavLink>\n            <button type=\"button\" onClick={onLogout}>\n              Cerrar sesión\n            </button>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n};\n\nconst DataList = ({ items, emptyLabel }) => (\n  <div className=\"data-list\">\n    {items.length === 0 ? (\n      <p className=\"muted\">{emptyLabel}</p>\n    ) : (\n      items.map((item) => (\n        <div className=\"data-row\" key={item.id || item.tenant_id}>\n          <span>{item.label}</span>\n          {item.meta && <span className=\"muted\">{item.meta}</span>}\n        </div>\n      ))\n    )}\n  </div>\n);\n\nexport default function App() {\n  const [form, setForm] = useState(emptyForm);\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState(null);\n  const [mode, setMode] = useState(\"login\");\n  const [registerRole, setRegisterRole] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [roleOptions, setRoleOptions] = useState([]);\n  const [pendingLogin, setPendingLogin] = useState(null);\n  const [dashboardData, setDashboardData] = useState(null);\n  const [availableRoles, setAvailableRoles] = useState([]);\n\n  const displayName =\n    user?.nombre || user?.nombre_completo || user?.username || \"Usuario\";\n  const initials = displayName.slice(0, 2).toUpperCase();\n  const avatarUrl = role === \"microempresa\" ? user?.logo_url : null;\n\n  const menuItems = useMemo(() => roleMenus[role] || [], [role]);\n\n  const loadMe = async () => {\n    const response = await fetch(`${API_BASE}/api/me`, {\n      credentials: \"include\",\n    });\n    const data = await response.json();\n    setUser(data.user);\n    setRole(data.role);\n    setAvailableRoles(data.available_roles || []);\n  };\n\n  const loadDashboard = async () => {\n    if (!user) {\n      setDashboardData(null);\n      return;\n    }\n    const response = await fetch(`${API_BASE}/api/dashboard`, {\n      credentials: \"include\",\n    });\n    const data = await response.json();\n    setDashboardData(data);\n  };\n\n  useEffect(() => {\n    loadMe();\n  }, []);\n\n  useEffect(() => {\n    loadDashboard();\n  }, [user, role]);\n\n  const handleChange = (event) => {\n    setForm({ ...form, [event.target.name]: event.target.value });\n  };\n\n  const resetAuthState = () => {\n    setMessage(\"\");\n    setRoleOptions([]);\n    setPendingLogin(null);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setMessage(\"\");\n\n    if (mode === \"login\") {\n      const response = await fetch(`${API_BASE}/api/login`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({\n          username: form.username,\n          password: form.password,\n        }),\n      });\n\n      const data = await response.json();\n      if (!response.ok) {\n        setMessage(data.error || \"Ocurrió un error\");\n        return;\n      }\n\n      if (data.select_role) {\n        setRoleOptions(data.roles || []);\n        setPendingLogin({ username: form.username, password: form.password });\n        return;\n      }\n\n      setUser(data.user);\n      setRole(data.role);\n      setAvailableRoles(data.available_roles || []);\n      setForm(emptyForm);\n      setMenuOpen(false);\n      resetAuthState();\n      return;\n    }\n\n    if (registerRole === \"microempresa\") {\n      if (!form.horario_inicio || !form.horario_fin) {\n        setMessage(\"Debes seleccionar un rango de horario válido\");\n        return;\n      }\n      if (form.horario_inicio >= form.horario_fin) {\n        setMessage(\"El horario de fin debe ser mayor al de inicio\");\n        return;\n      }\n    }\n\n    const registerPayload = { role: registerRole, password: form.password };\n\n    if (registerRole === \"microempresa\") {\n      Object.assign(registerPayload, {\n        nombre: form.nombre,\n        logo_url: form.logo_url,\n        direccion: form.direccion,\n        horario_atencion: `${form.horario_inicio} - ${form.horario_fin}`,\n        nombre_propietario: form.nombre_propietario,\n        email: form.email,\n        estado: form.estado,\n      });\n    }\n\n    if (registerRole === \"super_usuario\") {\n      Object.assign(registerPayload, {\n        nombre_completo: form.nombre_completo,\n        email: form.email,\n      });\n    }\n\n    if (registerRole === \"cliente\") {\n      Object.assign(registerPayload, {\n        nombre: form.nombre,\n        razon_social: form.razon_social,\n        email: form.email,\n        estado: form.estado,\n        es_generico: form.es_generico === \"true\",\n      });\n    }\n\n    const response = await fetch(`${API_BASE}/api/register`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify(registerPayload),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n\n    setUser(data.user);\n    setRole(data.role);\n    setAvailableRoles(data.available_roles || []);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    resetAuthState();\n  };\n\n  const handleRoleLogin = async (selectedRole) => {\n    if (!pendingLogin) {\n      return;\n    }\n\n    const response = await fetch(`${API_BASE}/api/login`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({\n        username: pendingLogin.username,\n        password: pendingLogin.password,\n        role: selectedRole,\n      }),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n\n    setUser(data.user);\n    setRole(data.role);\n    setAvailableRoles(data.available_roles || []);\n    setForm(emptyForm);\n    setMenuOpen(false);\n    resetAuthState();\n  };\n\n  const handleSwitchRole = async (selectedRole) => {\n    const response = await fetch(`${API_BASE}/api/switch-role`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({ role: selectedRole }),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      setMessage(data.error || \"Ocurrió un error\");\n      return;\n    }\n\n    setUser(data.user);\n    setRole(data.role);\n    setAvailableRoles(data.available_roles || []);\n    setMenuOpen(false);\n  };\n\n  const handleLogout = async () => {\n    await fetch(`${API_BASE}/api/logout`, {\n      method: \"POST\",\n      credentials: \"include\",\n    });\n    setUser(null);\n    setRole(null);\n    setAvailableRoles([]);\n    setMenuOpen(false);\n    setMode(\"login\");\n    setRegisterRole(null);\n    setForm(emptyForm);\n    resetAuthState();\n    setDashboardData(null);\n  };\n\n  const dashboardRoutes = () => {\n    if (role === \"super_usuario\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Hola, ${displayName}`}\n                description=\"Administración de microempresas y clientes.\"\n              />\n            }\n          />\n          <Route\n            path=\"/microempresas\"\n            element={\n              <SectionCard title=\"Microempresas\">\n                <DataList\n                  items={(dashboardData?.microempresas || []).map((item) => ({\n                    id: item.tenant_id,\n                    label: `${item.nombre} (${item.email})`,\n                    meta: item.estado,\n                  }))}\n                  emptyLabel=\"Sin microempresas registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n          <Route\n            path=\"/clientes\"\n            element={\n              <SectionCard title=\"Clientes\">\n                <DataList\n                  items={(dashboardData?.clientes || []).map((item) => ({\n                    id: item.id,\n                    label: `${item.nombre} - ${item.razon_social}`,\n                    meta: item.estado,\n                  }))}\n                  emptyLabel=\"Sin clientes registrados.\"\n                />\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    if (role === \"microempresa\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Bienvenido, ${displayName}`}\n                description=\"Información general de tu empresa.\"\n              />\n            }\n          />\n          <Route\n            path=\"/mi-empresa\"\n            element={\n              <SectionCard title=\"Mi empresa\">\n                <div className=\"data-list\">\n                  <div className=\"data-row\">\n                    <span>Nombre</span>\n                    <span className=\"muted\">{dashboardData?.microempresa?.nombre}</span>\n                  </div>\n                  <div className=\"data-row\">\n                    <span>Propietario</span>\n                    <span className=\"muted\">\n                      {dashboardData?.microempresa?.nombre_propietario}\n                    </span>\n                  </div>\n                  <div className=\"data-row\">\n                    <span>Horario</span>\n                    <span className=\"muted\">\n                      {dashboardData?.microempresa?.horario_atencion}\n                    </span>\n                  </div>\n                  <div className=\"data-row\">\n                    <span>Email</span>\n                    <span className=\"muted\">{dashboardData?.microempresa?.email}</span>\n                  </div>\n                  <div className=\"data-row\">\n                    <span>Estado</span>\n                    <span className=\"muted\">{dashboardData?.microempresa?.estado}</span>\n                  </div>\n                </div>\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    if (role === \"cliente\") {\n      return (\n        <>\n          <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <SectionCard\n                title={`Hola, ${displayName}`}\n                description=\"Selecciona una microempresa para explorar.\"\n              />\n            }\n          />\n          <Route\n            path=\"/microempresas\"\n            element={\n              <SectionCard title=\"Microempresas\">\n                <DataList\n                  items={(dashboardData?.microempresas || []).map((item) => ({\n                    id: item.tenant_id,\n                    label: item.nombre,\n                    meta: item.email,\n                  }))}\n                  emptyLabel=\"No hay microempresas registradas.\"\n                />\n              </SectionCard>\n            }\n          />\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  const renderRegisterFields = () => {\n    if (registerRole === \"microempresa\") {\n      return (\n        <>\n          <label>\n            Nombre de microempresa\n            <input\n              name=\"nombre\"\n              value={form.nombre}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Logo URL (opcional)\n            <input\n              name=\"logo_url\"\n              type=\"url\"\n              value={form.logo_url}\n              onChange={handleChange}\n            />\n          </label>\n          <label>\n            Dirección\n            <input\n              name=\"direccion\"\n              value={form.direccion}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Horario de atención (inicio)\n            <input\n              name=\"horario_inicio\"\n              type=\"time\"\n              value={form.horario_inicio}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Horario de atención (fin)\n            <input\n              name=\"horario_fin\"\n              type=\"time\"\n              value={form.horario_fin}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Nombre del propietario\n            <input\n              name=\"nombre_propietario\"\n              value={form.nombre_propietario}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Email\n            <input\n              name=\"email\"\n              type=\"email\"\n              value={form.email}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Estado\n            <select\n              name=\"estado\"\n              value={form.estado}\n              onChange={handleChange}\n              required\n            >\n              {estadoOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </label>\n        </>\n      );\n    }\n\n    if (registerRole === \"super_usuario\") {\n      return (\n        <>\n          <label>\n            Nombre completo\n            <input\n              name=\"nombre_completo\"\n              value={form.nombre_completo}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Email\n            <input\n              name=\"email\"\n              type=\"email\"\n              value={form.email}\n              onChange={handleChange}\n              required\n            />\n          </label>\n        </>\n      );\n    }\n\n    if (registerRole === \"cliente\") {\n      return (\n        <>\n          <label>\n            Nombre\n            <input\n              name=\"nombre\"\n              value={form.nombre}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Razón social\n            <input\n              name=\"razon_social\"\n              value={form.razon_social}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Email\n            <input\n              name=\"email\"\n              type=\"email\"\n              value={form.email}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          <label>\n            Estado\n            <select\n              name=\"estado\"\n              value={form.estado}\n              onChange={handleChange}\n              required\n            >\n              {estadoOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </label>\n          <label>\n            Es genérico\n            <select\n              name=\"es_generico\"\n              value={form.es_generico}\n              onChange={handleChange}\n              required\n            >\n              <option value=\"false\">No</option>\n              <option value=\"true\">Sí</option>\n            </select>\n          </label>\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <BrowserRouter>\n      {user ? (\n        <div className=\"app-shell\">\n          <aside className=\"sidebar\">\n            <div className=\"brand\">Microempresa</div>\n            <nav className=\"menu\">\n              {menuItems.map((item) => (\n                <NavLink\n                  key={item.path}\n                  to={item.path}\n                  className={({ isActive }) =>\n                    `menu-item${isActive ? \" active\" : \"\"}`\n                  }\n                >\n                  {item.label}\n                </NavLink>\n              ))}\n            </nav>\n          </aside>\n          <div className=\"main\">\n            <DashboardHeader\n              displayName={displayName}\n              initials={initials}\n              avatarUrl={avatarUrl}\n              menuOpen={menuOpen}\n              setMenuOpen={setMenuOpen}\n              onLogout={handleLogout}\n              availableRoles={availableRoles}\n              currentRole={role}\n              onSwitchRole={handleSwitchRole}\n            />\n            <Routes>\n              {dashboardRoutes()}\n              <Route\n                path=\"/perfil\"\n                element={\n                  <SectionCard title=\"Perfil\">\n                    <p>\n                      Usuario: {displayName}\n                      {user?.email ? ` (${user.email})` : \"\"}\n                    </p>\n                    <p className=\"muted\">Rol: {roleLabels[role] || role}</p>\n                  </SectionCard>\n                }\n              />\n              <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n            </Routes>\n          </div>\n        </div>\n      ) : (\n        <div className=\"container\">\n          <h1>Acceso al sistema</h1>\n\n          {roleOptions.length > 0 ? (\n            <div className=\"card role-picker\">\n              <h2>Selecciona el tipo de usuario</h2>\n              <div className=\"role-options\">\n                {roleOptions.map((option) => (\n                  <button\n                    key={option}\n                    type=\"button\"\n                    onClick={() => handleRoleLogin(option)}\n                  >\n                    {roleLabels[option] || option}\n                  </button>\n                ))}\n              </div>\n              {message && <p className=\"error\">{message}</p>}\n              <button\n                type=\"button\"\n                className=\"link-button\"\n                onClick={() => {\n                  setRoleOptions([]);\n                  setPendingLogin(null);\n                }}\n              >\n                Volver\n              </button>\n            </div>\n          ) : mode === \"register\" ? (\n            <form className=\"card\" onSubmit={handleSubmit}>\n              <div className=\"form-title\">\n                Registro {roleLabels[registerRole] || \"\"}\n              </div>\n              {renderRegisterFields()}\n              <label>\n                Password\n                <input\n                  name=\"password\"\n                  type=\"password\"\n                  value={form.password}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <button type=\"submit\">Registrar</button>\n              {message && <p className=\"error\">{message}</p>}\n              <button\n                type=\"button\"\n                className=\"link-button\"\n                onClick={() => {\n                  setMode(\"login\");\n                  setRegisterRole(null);\n                  setForm(emptyForm);\n                  resetAuthState();\n                }}\n              >\n                Volver al login\n              </button>\n            </form>\n          ) : (\n            <form className=\"card\" onSubmit={handleSubmit}>\n              <label>\n                Usuario\n                <input\n                  name=\"username\"\n                  value={form.username}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <label>\n                Password\n                <input\n                  name=\"password\"\n                  type=\"password\"\n                  value={form.password}\n                  onChange={handleChange}\n                  required\n                />\n              </label>\n              <button type=\"submit\">Entrar</button>\n              {message && <p className=\"error\">{message}</p>}\n              <p className=\"register-text\">\n                ¿No tienes cuenta? Regístrate:\n              </p>\n              <div className=\"register-links\">\n                <button\n                  type=\"button\"\n                  className=\"link-button\"\n                  onClick={() => {\n                    setMode(\"register\");\n                    setRegisterRole(\"super_usuario\");\n                    setForm(emptyForm);\n                    resetAuthState();\n                  }}\n                >\n                  Superusuarios\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"link-button\"\n                  onClick={() => {\n                    setMode(\"register\");\n                    setRegisterRole(\"microempresa\");\n                    setForm(emptyForm);\n                    resetAuthState();\n                  }}\n                >\n                  Microempresas\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"link-button\"\n                  onClick={() => {\n                    setMode(\"register\");\n                    setRegisterRole(\"cliente\");\n                    setForm(emptyForm);\n                    resetAuthState();\n                  }}\n                >\n                  Clientes\n                </button>\n              </div>\n            </form>\n          )}\n        </div>\n      )}\n    </BrowserRouter>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,SACEC,aAAa,EACbC,MAAM,EACNC,KAAK,EACLC,OAAO,EACPC,QAAQ,EACRC,WAAW,QACN,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1B,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAAI,EAAE;AAErD,MAAMC,SAAS,GAAG;EAChBC,QAAQ,EAAE,EAAE;EACZC,QAAQ,EAAE,EAAE;EACZC,MAAM,EAAE,EAAE;EACVC,QAAQ,EAAE,EAAE;EACZC,SAAS,EAAE,EAAE;EACbC,cAAc,EAAE,EAAE;EAClBC,WAAW,EAAE,EAAE;EACfC,kBAAkB,EAAE,EAAE;EACtBC,KAAK,EAAE,EAAE;EACTC,MAAM,EAAE,QAAQ;EAChBC,eAAe,EAAE,EAAE;EACnBC,YAAY,EAAE,EAAE;EAChBC,WAAW,EAAE;AACf,CAAC;AAED,MAAMC,UAAU,GAAG;EACjBC,aAAa,EAAE,eAAe;EAC9BC,YAAY,EAAE,cAAc;EAC5BC,OAAO,EAAE;AACX,CAAC;AAED,MAAMC,UAAU,GAAG;EACjB,YAAY,EAAE,WAAW;EACzB,gBAAgB,EAAE,eAAe;EACjC,WAAW,EAAE,UAAU;EACvB,aAAa,EAAE,YAAY;EAC3B,SAAS,EAAE;AACb,CAAC;AAED,MAAMC,SAAS,GAAG;EAChBJ,aAAa,EAAE,CACb;IAAEK,IAAI,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAgB,CAAC,EAClD;IAAED,IAAI,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAW,CAAC,CACzC;EACDL,YAAY,EAAE,CAAC;IAAEI,IAAI,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAa,CAAC,CAAC;EAC5DJ,OAAO,EAAE,CAAC;IAAEG,IAAI,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAgB,CAAC;AAC9D,CAAC;AAED,MAAMC,aAAa,GAAG,CACpB;EAAEC,KAAK,EAAE,QAAQ;EAAEF,KAAK,EAAE;AAAS,CAAC,EACpC;EAAEE,KAAK,EAAE,UAAU;EAAEF,KAAK,EAAE;AAAW,CAAC,CACzC;AAED,MAAMG,WAAW,GAAGA,CAAC;EAAEC,KAAK;EAAEC,WAAW;EAAEC;AAAS,CAAC,kBACnDlC,OAAA;EAASmC,SAAS,EAAC,cAAc;EAAAD,QAAA,gBAC/BlC,OAAA;IAAAkC,QAAA,EAAKF;EAAK;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC,EACfN,WAAW,iBAAIjC,OAAA;IAAAkC,QAAA,EAAID;EAAW;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC,EACnCL,QAAQ;AAAA;EAAAE,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACF,CACV;AAACC,EAAA,GANIT,WAAW;AAQjB,MAAMU,eAAe,GAAGA,CAAC;EACvBC,WAAW;EACXC,QAAQ;EACRC,SAAS;EACTC,QAAQ;EACRC,WAAW;EACXC,QAAQ;EACRC,cAAc;EACdC,WAAW;EACXC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,QAAQ,GAAGtD,WAAW,CAAC,CAAC;EAC9B,MAAMkC,KAAK,GAAGP,UAAU,CAAC2B,QAAQ,CAACC,QAAQ,CAAC,IAAI,WAAW;EAC1D,MAAMC,WAAW,GAAGN,cAAc,CAACO,MAAM,CAAEC,IAAI,IAAKA,IAAI,KAAKP,WAAW,CAAC;EAEzE,oBACEjD,OAAA;IAAQmC,SAAS,EAAC,QAAQ;IAAAD,QAAA,gBACxBlC,OAAA;MAAAkC,QAAA,EAAKF;IAAK;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAChBvC,OAAA;MAAKmC,SAAS,EAAC,WAAW;MAAAD,QAAA,gBACxBlC,OAAA;QACEyD,IAAI,EAAC,QAAQ;QACbtB,SAAS,EAAC,eAAe;QACzBuB,OAAO,EAAEA,CAAA,KAAMZ,WAAW,CAAEa,IAAI,IAAK,CAACA,IAAI,CAAE;QAAAzB,QAAA,GAE3CU,SAAS,gBACR5C,OAAA;UAAKmC,SAAS,EAAC,cAAc;UAACyB,GAAG,EAAEhB,SAAU;UAACiB,GAAG,EAAEnB;QAAY;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAElEvC,OAAA;UAAMmC,SAAS,EAAC,QAAQ;UAAAD,QAAA,EAAES;QAAQ;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAC1C,eACDvC,OAAA;UAAMmC,SAAS,EAAC,aAAa;UAAAD,QAAA,EAAEQ;QAAW;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC,EACRM,QAAQ,iBACP7C,OAAA;QAAKmC,SAAS,EAAC,UAAU;QAAAD,QAAA,GACtBoB,WAAW,CAACQ,MAAM,GAAG,CAAC,iBACrB9D,OAAA;UAAKmC,SAAS,EAAC,kBAAkB;UAAAD,QAAA,gBAC/BlC,OAAA;YAAMmC,SAAS,EAAC,gBAAgB;YAAAD,QAAA,EAAC;UAAW;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAClDe,WAAW,CAACS,GAAG,CAAEP,IAAI,iBACpBxD,OAAA;YAEEyD,IAAI,EAAC,QAAQ;YACbC,OAAO,EAAEA,CAAA,KAAMR,YAAY,CAACM,IAAI,CAAE;YAAAtB,QAAA,EAEjCb,UAAU,CAACmC,IAAI,CAAC,IAAIA;UAAI,GAJpBA,IAAI;YAAApB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKH,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN,eACDvC,OAAA,CAACJ,OAAO;UACNoE,EAAE,EAAC,SAAS;UACZ7B,SAAS,EAAC,eAAe;UACzBuB,OAAO,EAAEA,CAAA,KAAMZ,WAAW,CAAC,KAAK,CAAE;UAAAZ,QAAA,EACnC;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,eACVvC,OAAA;UAAQyD,IAAI,EAAC,QAAQ;UAACC,OAAO,EAAEX,QAAS;UAAAb,QAAA,EAAC;QAEzC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEb,CAAC;AAACY,EAAA,CA9DIV,eAAe;EAAA,QAWF3C,WAAW;AAAA;AAAAmE,GAAA,GAXxBxB,eAAe;AAgErB,MAAMyB,QAAQ,GAAGA,CAAC;EAAEC,KAAK;EAAEC;AAAW,CAAC,kBACrCpE,OAAA;EAAKmC,SAAS,EAAC,WAAW;EAAAD,QAAA,EACvBiC,KAAK,CAACL,MAAM,KAAK,CAAC,gBACjB9D,OAAA;IAAGmC,SAAS,EAAC,OAAO;IAAAD,QAAA,EAAEkC;EAAU;IAAAhC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC,GAErC4B,KAAK,CAACJ,GAAG,CAAEM,IAAI,iBACbrE,OAAA;IAAKmC,SAAS,EAAC,UAAU;IAAAD,QAAA,gBACvBlC,OAAA;MAAAkC,QAAA,EAAOmC,IAAI,CAACzC;IAAK;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,EACxB8B,IAAI,CAACC,IAAI,iBAAItE,OAAA;MAAMmC,SAAS,EAAC,OAAO;MAAAD,QAAA,EAAEmC,IAAI,CAACC;IAAI;MAAAlC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC;EAAA,GAF3B8B,IAAI,CAACE,EAAE,IAAIF,IAAI,CAACG,SAAS;IAAApC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGnD,CACN;AACF;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACE,CACN;AAACkC,GAAA,GAbIP,QAAQ;AAed,eAAe,SAASQ,GAAGA,CAAA,EAAG;EAAAC,GAAA;EAC5B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGrF,QAAQ,CAACe,SAAS,CAAC;EAC3C,MAAM,CAACuE,IAAI,EAAEC,OAAO,CAAC,GAAGvF,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACgE,IAAI,EAAEwB,OAAO,CAAC,GAAGxF,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACyF,IAAI,EAAEC,OAAO,CAAC,GAAG1F,QAAQ,CAAC,OAAO,CAAC;EACzC,MAAM,CAAC2F,YAAY,EAAEC,eAAe,CAAC,GAAG5F,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAAC6F,OAAO,EAAEC,UAAU,CAAC,GAAG9F,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACqD,QAAQ,EAAEC,WAAW,CAAC,GAAGtD,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC+F,WAAW,EAAEC,cAAc,CAAC,GAAGhG,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACiG,YAAY,EAAEC,eAAe,CAAC,GAAGlG,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACmG,aAAa,EAAEC,gBAAgB,CAAC,GAAGpG,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACwD,cAAc,EAAE6C,iBAAiB,CAAC,GAAGrG,QAAQ,CAAC,EAAE,CAAC;EAExD,MAAMkD,WAAW,GACf,CAAAoC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEpE,MAAM,MAAIoE,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE5D,eAAe,MAAI4D,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEtE,QAAQ,KAAI,SAAS;EACtE,MAAMmC,QAAQ,GAAGD,WAAW,CAACoD,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EACtD,MAAMnD,SAAS,GAAGY,IAAI,KAAK,cAAc,GAAGsB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEnE,QAAQ,GAAG,IAAI;EAEjE,MAAMqF,SAAS,GAAGzG,OAAO,CAAC,MAAMmC,SAAS,CAAC8B,IAAI,CAAC,IAAI,EAAE,EAAE,CAACA,IAAI,CAAC,CAAC;EAE9D,MAAMyC,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGhG,QAAQ,SAAS,EAAE;MACjDiG,WAAW,EAAE;IACf,CAAC,CAAC;IACF,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAClCvB,OAAO,CAACsB,IAAI,CAACvB,IAAI,CAAC;IAClBE,OAAO,CAACqB,IAAI,CAAC7C,IAAI,CAAC;IAClBqC,iBAAiB,CAACQ,IAAI,CAACE,eAAe,IAAI,EAAE,CAAC;EAC/C,CAAC;EAED,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI,CAAC1B,IAAI,EAAE;MACTc,gBAAgB,CAAC,IAAI,CAAC;MACtB;IACF;IACA,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGhG,QAAQ,gBAAgB,EAAE;MACxDiG,WAAW,EAAE;IACf,CAAC,CAAC;IACF,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAClCV,gBAAgB,CAACS,IAAI,CAAC;EACxB,CAAC;EAED/G,SAAS,CAAC,MAAM;IACd2G,MAAM,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN3G,SAAS,CAAC,MAAM;IACdkH,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAAC1B,IAAI,EAAEtB,IAAI,CAAC,CAAC;EAEhB,MAAMiD,YAAY,GAAIC,KAAK,IAAK;IAC9B7B,OAAO,CAAC;MAAE,GAAGD,IAAI;MAAE,CAAC8B,KAAK,CAACC,MAAM,CAACC,IAAI,GAAGF,KAAK,CAACC,MAAM,CAAC7E;IAAM,CAAC,CAAC;EAC/D,CAAC;EAED,MAAM+E,cAAc,GAAGA,CAAA,KAAM;IAC3BvB,UAAU,CAAC,EAAE,CAAC;IACdE,cAAc,CAAC,EAAE,CAAC;IAClBE,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,MAAMoB,YAAY,GAAG,MAAOJ,KAAK,IAAK;IACpCA,KAAK,CAACK,cAAc,CAAC,CAAC;IACtBzB,UAAU,CAAC,EAAE,CAAC;IAEd,IAAIL,IAAI,KAAK,OAAO,EAAE;MACpB,MAAMiB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGhG,QAAQ,YAAY,EAAE;QACpD6G,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/Cb,WAAW,EAAE,SAAS;QACtBc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnB5G,QAAQ,EAAEoE,IAAI,CAACpE,QAAQ;UACvBC,QAAQ,EAAEmE,IAAI,CAACnE;QACjB,CAAC;MACH,CAAC,CAAC;MAEF,MAAM4F,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAClC,IAAI,CAACJ,QAAQ,CAACmB,EAAE,EAAE;QAChB/B,UAAU,CAACe,IAAI,CAACiB,KAAK,IAAI,kBAAkB,CAAC;QAC5C;MACF;MAEA,IAAIjB,IAAI,CAACkB,WAAW,EAAE;QACpB/B,cAAc,CAACa,IAAI,CAACmB,KAAK,IAAI,EAAE,CAAC;QAChC9B,eAAe,CAAC;UAAElF,QAAQ,EAAEoE,IAAI,CAACpE,QAAQ;UAAEC,QAAQ,EAAEmE,IAAI,CAACnE;QAAS,CAAC,CAAC;QACrE;MACF;MAEAsE,OAAO,CAACsB,IAAI,CAACvB,IAAI,CAAC;MAClBE,OAAO,CAACqB,IAAI,CAAC7C,IAAI,CAAC;MAClBqC,iBAAiB,CAACQ,IAAI,CAACE,eAAe,IAAI,EAAE,CAAC;MAC7C1B,OAAO,CAACtE,SAAS,CAAC;MAClBuC,WAAW,CAAC,KAAK,CAAC;MAClB+D,cAAc,CAAC,CAAC;MAChB;IACF;IAEA,IAAI1B,YAAY,KAAK,cAAc,EAAE;MACnC,IAAI,CAACP,IAAI,CAAC/D,cAAc,IAAI,CAAC+D,IAAI,CAAC9D,WAAW,EAAE;QAC7CwE,UAAU,CAAC,8CAA8C,CAAC;QAC1D;MACF;MACA,IAAIV,IAAI,CAAC/D,cAAc,IAAI+D,IAAI,CAAC9D,WAAW,EAAE;QAC3CwE,UAAU,CAAC,+CAA+C,CAAC;QAC3D;MACF;IACF;IAEA,MAAMmC,eAAe,GAAG;MAAEjE,IAAI,EAAE2B,YAAY;MAAE1E,QAAQ,EAAEmE,IAAI,CAACnE;IAAS,CAAC;IAEvE,IAAI0E,YAAY,KAAK,cAAc,EAAE;MACnCuC,MAAM,CAACC,MAAM,CAACF,eAAe,EAAE;QAC7B/G,MAAM,EAAEkE,IAAI,CAAClE,MAAM;QACnBC,QAAQ,EAAEiE,IAAI,CAACjE,QAAQ;QACvBC,SAAS,EAAEgE,IAAI,CAAChE,SAAS;QACzBgH,gBAAgB,EAAE,GAAGhD,IAAI,CAAC/D,cAAc,MAAM+D,IAAI,CAAC9D,WAAW,EAAE;QAChEC,kBAAkB,EAAE6D,IAAI,CAAC7D,kBAAkB;QAC3CC,KAAK,EAAE4D,IAAI,CAAC5D,KAAK;QACjBC,MAAM,EAAE2D,IAAI,CAAC3D;MACf,CAAC,CAAC;IACJ;IAEA,IAAIkE,YAAY,KAAK,eAAe,EAAE;MACpCuC,MAAM,CAACC,MAAM,CAACF,eAAe,EAAE;QAC7BvG,eAAe,EAAE0D,IAAI,CAAC1D,eAAe;QACrCF,KAAK,EAAE4D,IAAI,CAAC5D;MACd,CAAC,CAAC;IACJ;IAEA,IAAImE,YAAY,KAAK,SAAS,EAAE;MAC9BuC,MAAM,CAACC,MAAM,CAACF,eAAe,EAAE;QAC7B/G,MAAM,EAAEkE,IAAI,CAAClE,MAAM;QACnBS,YAAY,EAAEyD,IAAI,CAACzD,YAAY;QAC/BH,KAAK,EAAE4D,IAAI,CAAC5D,KAAK;QACjBC,MAAM,EAAE2D,IAAI,CAAC3D,MAAM;QACnBG,WAAW,EAAEwD,IAAI,CAACxD,WAAW,KAAK;MACpC,CAAC,CAAC;IACJ;IAEA,MAAM8E,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGhG,QAAQ,eAAe,EAAE;MACvD6G,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/Cb,WAAW,EAAE,SAAS;MACtBc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACK,eAAe;IACtC,CAAC,CAAC;IAEF,MAAMpB,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAClC,IAAI,CAACJ,QAAQ,CAACmB,EAAE,EAAE;MAChB/B,UAAU,CAACe,IAAI,CAACiB,KAAK,IAAI,kBAAkB,CAAC;MAC5C;IACF;IAEAvC,OAAO,CAACsB,IAAI,CAACvB,IAAI,CAAC;IAClBE,OAAO,CAACqB,IAAI,CAAC7C,IAAI,CAAC;IAClBqC,iBAAiB,CAACQ,IAAI,CAACE,eAAe,IAAI,EAAE,CAAC;IAC7C1B,OAAO,CAACtE,SAAS,CAAC;IAClBuC,WAAW,CAAC,KAAK,CAAC;IAClBoC,OAAO,CAAC,OAAO,CAAC;IAChBE,eAAe,CAAC,IAAI,CAAC;IACrByB,cAAc,CAAC,CAAC;EAClB,CAAC;EAED,MAAMgB,eAAe,GAAG,MAAOC,YAAY,IAAK;IAC9C,IAAI,CAACrC,YAAY,EAAE;MACjB;IACF;IAEA,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGhG,QAAQ,YAAY,EAAE;MACpD6G,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/Cb,WAAW,EAAE,SAAS;MACtBc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnB5G,QAAQ,EAAEiF,YAAY,CAACjF,QAAQ;QAC/BC,QAAQ,EAAEgF,YAAY,CAAChF,QAAQ;QAC/B+C,IAAI,EAAEsE;MACR,CAAC;IACH,CAAC,CAAC;IAEF,MAAMzB,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAClC,IAAI,CAACJ,QAAQ,CAACmB,EAAE,EAAE;MAChB/B,UAAU,CAACe,IAAI,CAACiB,KAAK,IAAI,kBAAkB,CAAC;MAC5C;IACF;IAEAvC,OAAO,CAACsB,IAAI,CAACvB,IAAI,CAAC;IAClBE,OAAO,CAACqB,IAAI,CAAC7C,IAAI,CAAC;IAClBqC,iBAAiB,CAACQ,IAAI,CAACE,eAAe,IAAI,EAAE,CAAC;IAC7C1B,OAAO,CAACtE,SAAS,CAAC;IAClBuC,WAAW,CAAC,KAAK,CAAC;IAClB+D,cAAc,CAAC,CAAC;EAClB,CAAC;EAED,MAAMkB,gBAAgB,GAAG,MAAOD,YAAY,IAAK;IAC/C,MAAM5B,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGhG,QAAQ,kBAAkB,EAAE;MAC1D6G,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/Cb,WAAW,EAAE,SAAS;MACtBc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAE5D,IAAI,EAAEsE;MAAa,CAAC;IAC7C,CAAC,CAAC;IAEF,MAAMzB,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAClC,IAAI,CAACJ,QAAQ,CAACmB,EAAE,EAAE;MAChB/B,UAAU,CAACe,IAAI,CAACiB,KAAK,IAAI,kBAAkB,CAAC;MAC5C;IACF;IAEAvC,OAAO,CAACsB,IAAI,CAACvB,IAAI,CAAC;IAClBE,OAAO,CAACqB,IAAI,CAAC7C,IAAI,CAAC;IAClBqC,iBAAiB,CAACQ,IAAI,CAACE,eAAe,IAAI,EAAE,CAAC;IAC7CzD,WAAW,CAAC,KAAK,CAAC;EACpB,CAAC;EAED,MAAMkF,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAM7B,KAAK,CAAC,GAAGhG,QAAQ,aAAa,EAAE;MACpC6G,MAAM,EAAE,MAAM;MACdZ,WAAW,EAAE;IACf,CAAC,CAAC;IACFrB,OAAO,CAAC,IAAI,CAAC;IACbC,OAAO,CAAC,IAAI,CAAC;IACba,iBAAiB,CAAC,EAAE,CAAC;IACrB/C,WAAW,CAAC,KAAK,CAAC;IAClBoC,OAAO,CAAC,OAAO,CAAC;IAChBE,eAAe,CAAC,IAAI,CAAC;IACrBP,OAAO,CAACtE,SAAS,CAAC;IAClBsG,cAAc,CAAC,CAAC;IAChBjB,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,MAAMqC,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAIzE,IAAI,KAAK,eAAe,EAAE;MAC5B,oBACExD,OAAA,CAAAE,SAAA;QAAAgC,QAAA,gBACElC,OAAA,CAACL,KAAK;UAACgC,IAAI,EAAC,GAAG;UAACuG,OAAO,eAAElI,OAAA,CAACH,QAAQ;YAACmE,EAAE,EAAC,YAAY;YAACmE,OAAO;UAAA;YAAA/F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjEvC,OAAA,CAACL,KAAK;UACJgC,IAAI,EAAC,YAAY;UACjBuG,OAAO,eACLlI,OAAA,CAAC+B,WAAW;YACVC,KAAK,EAAE,SAASU,WAAW,EAAG;YAC9BT,WAAW,EAAC;UAA6C;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1D;QACF;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eACFvC,OAAA,CAACL,KAAK;UACJgC,IAAI,EAAC,gBAAgB;UACrBuG,OAAO,eACLlI,OAAA,CAAC+B,WAAW;YAACC,KAAK,EAAC,eAAe;YAAAE,QAAA,eAChClC,OAAA,CAACkE,QAAQ;cACPC,KAAK,EAAE,CAAC,CAAAwB,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEyC,aAAa,KAAI,EAAE,EAAErE,GAAG,CAAEM,IAAI,KAAM;gBACzDE,EAAE,EAAEF,IAAI,CAACG,SAAS;gBAClB5C,KAAK,EAAE,GAAGyC,IAAI,CAAC3D,MAAM,KAAK2D,IAAI,CAACrD,KAAK,GAAG;gBACvCsD,IAAI,EAAED,IAAI,CAACpD;cACb,CAAC,CAAC,CAAE;cACJmD,UAAU,EAAC;YAAgC;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACS;QACd;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eACFvC,OAAA,CAACL,KAAK;UACJgC,IAAI,EAAC,WAAW;UAChBuG,OAAO,eACLlI,OAAA,CAAC+B,WAAW;YAACC,KAAK,EAAC,UAAU;YAAAE,QAAA,eAC3BlC,OAAA,CAACkE,QAAQ;cACPC,KAAK,EAAE,CAAC,CAAAwB,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAE0C,QAAQ,KAAI,EAAE,EAAEtE,GAAG,CAAEM,IAAI,KAAM;gBACpDE,EAAE,EAAEF,IAAI,CAACE,EAAE;gBACX3C,KAAK,EAAE,GAAGyC,IAAI,CAAC3D,MAAM,MAAM2D,IAAI,CAAClD,YAAY,EAAE;gBAC9CmD,IAAI,EAAED,IAAI,CAACpD;cACb,CAAC,CAAC,CAAE;cACJmD,UAAU,EAAC;YAA2B;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACS;QACd;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA,eACF,CAAC;IAEP;IAEA,IAAIiB,IAAI,KAAK,cAAc,EAAE;MAAA,IAAA8E,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;MAC3B,oBACE1I,OAAA,CAAAE,SAAA;QAAAgC,QAAA,gBACElC,OAAA,CAACL,KAAK;UAACgC,IAAI,EAAC,GAAG;UAACuG,OAAO,eAAElI,OAAA,CAACH,QAAQ;YAACmE,EAAE,EAAC,YAAY;YAACmE,OAAO;UAAA;YAAA/F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjEvC,OAAA,CAACL,KAAK;UACJgC,IAAI,EAAC,YAAY;UACjBuG,OAAO,eACLlI,OAAA,CAAC+B,WAAW;YACVC,KAAK,EAAE,eAAeU,WAAW,EAAG;YACpCT,WAAW,EAAC;UAAoC;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD;QACF;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eACFvC,OAAA,CAACL,KAAK;UACJgC,IAAI,EAAC,aAAa;UAClBuG,OAAO,eACLlI,OAAA,CAAC+B,WAAW;YAACC,KAAK,EAAC,YAAY;YAAAE,QAAA,eAC7BlC,OAAA;cAAKmC,SAAS,EAAC,WAAW;cAAAD,QAAA,gBACxBlC,OAAA;gBAAKmC,SAAS,EAAC,UAAU;gBAAAD,QAAA,gBACvBlC,OAAA;kBAAAkC,QAAA,EAAM;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACnBvC,OAAA;kBAAMmC,SAAS,EAAC,OAAO;kBAAAD,QAAA,EAAEyD,aAAa,aAAbA,aAAa,wBAAA2C,qBAAA,GAAb3C,aAAa,CAAEpE,YAAY,cAAA+G,qBAAA,uBAA3BA,qBAAA,CAA6B5H;gBAAM;kBAAA0B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjE,CAAC,eACNvC,OAAA;gBAAKmC,SAAS,EAAC,UAAU;gBAAAD,QAAA,gBACvBlC,OAAA;kBAAAkC,QAAA,EAAM;gBAAW;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACxBvC,OAAA;kBAAMmC,SAAS,EAAC,OAAO;kBAAAD,QAAA,EACpByD,aAAa,aAAbA,aAAa,wBAAA4C,sBAAA,GAAb5C,aAAa,CAAEpE,YAAY,cAAAgH,sBAAA,uBAA3BA,sBAAA,CAA6BxH;gBAAkB;kBAAAqB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5C,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACNvC,OAAA;gBAAKmC,SAAS,EAAC,UAAU;gBAAAD,QAAA,gBACvBlC,OAAA;kBAAAkC,QAAA,EAAM;gBAAO;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACpBvC,OAAA;kBAAMmC,SAAS,EAAC,OAAO;kBAAAD,QAAA,EACpByD,aAAa,aAAbA,aAAa,wBAAA6C,sBAAA,GAAb7C,aAAa,CAAEpE,YAAY,cAAAiH,sBAAA,uBAA3BA,sBAAA,CAA6BZ;gBAAgB;kBAAAxF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1C,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACNvC,OAAA;gBAAKmC,SAAS,EAAC,UAAU;gBAAAD,QAAA,gBACvBlC,OAAA;kBAAAkC,QAAA,EAAM;gBAAK;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAClBvC,OAAA;kBAAMmC,SAAS,EAAC,OAAO;kBAAAD,QAAA,EAAEyD,aAAa,aAAbA,aAAa,wBAAA8C,sBAAA,GAAb9C,aAAa,CAAEpE,YAAY,cAAAkH,sBAAA,uBAA3BA,sBAAA,CAA6BzH;gBAAK;kBAAAoB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChE,CAAC,eACNvC,OAAA;gBAAKmC,SAAS,EAAC,UAAU;gBAAAD,QAAA,gBACvBlC,OAAA;kBAAAkC,QAAA,EAAM;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACnBvC,OAAA;kBAAMmC,SAAS,EAAC,OAAO;kBAAAD,QAAA,EAAEyD,aAAa,aAAbA,aAAa,wBAAA+C,sBAAA,GAAb/C,aAAa,CAAEpE,YAAY,cAAAmH,sBAAA,uBAA3BA,sBAAA,CAA6BzH;gBAAM;kBAAAmB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK;QACd;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA,eACF,CAAC;IAEP;IAEA,IAAIiB,IAAI,KAAK,SAAS,EAAE;MACtB,oBACExD,OAAA,CAAAE,SAAA;QAAAgC,QAAA,gBACElC,OAAA,CAACL,KAAK;UAACgC,IAAI,EAAC,GAAG;UAACuG,OAAO,eAAElI,OAAA,CAACH,QAAQ;YAACmE,EAAE,EAAC,YAAY;YAACmE,OAAO;UAAA;YAAA/F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjEvC,OAAA,CAACL,KAAK;UACJgC,IAAI,EAAC,YAAY;UACjBuG,OAAO,eACLlI,OAAA,CAAC+B,WAAW;YACVC,KAAK,EAAE,SAASU,WAAW,EAAG;YAC9BT,WAAW,EAAC;UAA4C;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzD;QACF;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eACFvC,OAAA,CAACL,KAAK;UACJgC,IAAI,EAAC,gBAAgB;UACrBuG,OAAO,eACLlI,OAAA,CAAC+B,WAAW;YAACC,KAAK,EAAC,eAAe;YAAAE,QAAA,eAChClC,OAAA,CAACkE,QAAQ;cACPC,KAAK,EAAE,CAAC,CAAAwB,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEyC,aAAa,KAAI,EAAE,EAAErE,GAAG,CAAEM,IAAI,KAAM;gBACzDE,EAAE,EAAEF,IAAI,CAACG,SAAS;gBAClB5C,KAAK,EAAEyC,IAAI,CAAC3D,MAAM;gBAClB4D,IAAI,EAAED,IAAI,CAACrD;cACb,CAAC,CAAC,CAAE;cACJoD,UAAU,EAAC;YAAmC;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACS;QACd;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA,eACF,CAAC;IAEP;IAEA,OAAO,IAAI;EACb,CAAC;EAED,MAAMoG,oBAAoB,GAAGA,CAAA,KAAM;IACjC,IAAIxD,YAAY,KAAK,cAAc,EAAE;MACnC,oBACEnF,OAAA,CAAAE,SAAA;QAAAgC,QAAA,gBACElC,OAAA;UAAAkC,QAAA,GAAO,wBAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,QAAQ;YACb9E,KAAK,EAAE8C,IAAI,CAAClE,MAAO;YACnBkI,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,qBAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,UAAU;YACfnD,IAAI,EAAC,KAAK;YACV3B,KAAK,EAAE8C,IAAI,CAACjE,QAAS;YACrBiI,QAAQ,EAAEnC;UAAa;YAAArE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,cAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,WAAW;YAChB9E,KAAK,EAAE8C,IAAI,CAAChE,SAAU;YACtBgI,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,iCAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,gBAAgB;YACrBnD,IAAI,EAAC,MAAM;YACX3B,KAAK,EAAE8C,IAAI,CAAC/D,cAAe;YAC3B+H,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,8BAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,aAAa;YAClBnD,IAAI,EAAC,MAAM;YACX3B,KAAK,EAAE8C,IAAI,CAAC9D,WAAY;YACxB8H,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,wBAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,oBAAoB;YACzB9E,KAAK,EAAE8C,IAAI,CAAC7D,kBAAmB;YAC/B6H,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,OAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,OAAO;YACZnD,IAAI,EAAC,OAAO;YACZ3B,KAAK,EAAE8C,IAAI,CAAC5D,KAAM;YAClB4H,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,QAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,QAAQ;YACb9E,KAAK,EAAE8C,IAAI,CAAC3D,MAAO;YACnB2H,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;YAAA3G,QAAA,EAEPL,aAAa,CAACkC,GAAG,CAAE+E,MAAM,iBACxB9I,OAAA;cAA2B8B,KAAK,EAAEgH,MAAM,CAAChH,KAAM;cAAAI,QAAA,EAC5C4G,MAAM,CAAClH;YAAK,GADFkH,MAAM,CAAChH,KAAK;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEjB,CACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA,eACR,CAAC;IAEP;IAEA,IAAI4C,YAAY,KAAK,eAAe,EAAE;MACpC,oBACEnF,OAAA,CAAAE,SAAA;QAAAgC,QAAA,gBACElC,OAAA;UAAAkC,QAAA,GAAO,iBAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,iBAAiB;YACtB9E,KAAK,EAAE8C,IAAI,CAAC1D,eAAgB;YAC5B0H,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,OAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,OAAO;YACZnD,IAAI,EAAC,OAAO;YACZ3B,KAAK,EAAE8C,IAAI,CAAC5D,KAAM;YAClB4H,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA,eACR,CAAC;IAEP;IAEA,IAAI4C,YAAY,KAAK,SAAS,EAAE;MAC9B,oBACEnF,OAAA,CAAAE,SAAA;QAAAgC,QAAA,gBACElC,OAAA;UAAAkC,QAAA,GAAO,QAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,QAAQ;YACb9E,KAAK,EAAE8C,IAAI,CAAClE,MAAO;YACnBkI,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,iBAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,cAAc;YACnB9E,KAAK,EAAE8C,IAAI,CAACzD,YAAa;YACzByH,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,OAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,OAAO;YACZnD,IAAI,EAAC,OAAO;YACZ3B,KAAK,EAAE8C,IAAI,CAAC5D,KAAM;YAClB4H,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,QAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,QAAQ;YACb9E,KAAK,EAAE8C,IAAI,CAAC3D,MAAO;YACnB2H,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;YAAA3G,QAAA,EAEPL,aAAa,CAACkC,GAAG,CAAE+E,MAAM,iBACxB9I,OAAA;cAA2B8B,KAAK,EAAEgH,MAAM,CAAChH,KAAM;cAAAI,QAAA,EAC5C4G,MAAM,CAAClH;YAAK,GADFkH,MAAM,CAAChH,KAAK;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEjB,CACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,gBAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,aAAa;YAClB9E,KAAK,EAAE8C,IAAI,CAACxD,WAAY;YACxBwH,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;YAAA3G,QAAA,gBAERlC,OAAA;cAAQ8B,KAAK,EAAC,OAAO;cAAAI,QAAA,EAAC;YAAE;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACjCvC,OAAA;cAAQ8B,KAAK,EAAC,MAAM;cAAAI,QAAA,EAAC;YAAE;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA,eACR,CAAC;IAEP;IAEA,OAAO,IAAI;EACb,CAAC;EAED,oBACEvC,OAAA,CAACP,aAAa;IAAAyC,QAAA,EACX4C,IAAI,gBACH9E,OAAA;MAAKmC,SAAS,EAAC,WAAW;MAAAD,QAAA,gBACxBlC,OAAA;QAAOmC,SAAS,EAAC,SAAS;QAAAD,QAAA,gBACxBlC,OAAA;UAAKmC,SAAS,EAAC,OAAO;UAAAD,QAAA,EAAC;QAAY;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACzCvC,OAAA;UAAKmC,SAAS,EAAC,MAAM;UAAAD,QAAA,EAClB8D,SAAS,CAACjC,GAAG,CAAEM,IAAI,iBAClBrE,OAAA,CAACJ,OAAO;YAENoE,EAAE,EAAEK,IAAI,CAAC1C,IAAK;YACdQ,SAAS,EAAEA,CAAC;cAAE4G;YAAS,CAAC,KACtB,YAAYA,QAAQ,GAAG,SAAS,GAAG,EAAE,EACtC;YAAA7G,QAAA,EAEAmC,IAAI,CAACzC;UAAK,GANNyC,IAAI,CAAC1C,IAAI;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAOP,CACV;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACRvC,OAAA;QAAKmC,SAAS,EAAC,MAAM;QAAAD,QAAA,gBACnBlC,OAAA,CAACyC,eAAe;UACdC,WAAW,EAAEA,WAAY;UACzBC,QAAQ,EAAEA,QAAS;UACnBC,SAAS,EAAEA,SAAU;UACrBC,QAAQ,EAAEA,QAAS;UACnBC,WAAW,EAAEA,WAAY;UACzBC,QAAQ,EAAEiF,YAAa;UACvBhF,cAAc,EAAEA,cAAe;UAC/BC,WAAW,EAAEO,IAAK;UAClBN,YAAY,EAAE6E;QAAiB;UAAA3F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC,eACFvC,OAAA,CAACN,MAAM;UAAAwC,QAAA,GACJ+F,eAAe,CAAC,CAAC,eAClBjI,OAAA,CAACL,KAAK;YACJgC,IAAI,EAAC,SAAS;YACduG,OAAO,eACLlI,OAAA,CAAC+B,WAAW;cAACC,KAAK,EAAC,QAAQ;cAAAE,QAAA,gBACzBlC,OAAA;gBAAAkC,QAAA,GAAG,WACQ,EAACQ,WAAW,EACpBoC,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAE9D,KAAK,GAAG,KAAK8D,IAAI,CAAC9D,KAAK,GAAG,GAAG,EAAE;cAAA;gBAAAoB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrC,CAAC,eACJvC,OAAA;gBAAGmC,SAAS,EAAC,OAAO;gBAAAD,QAAA,GAAC,OAAK,EAACb,UAAU,CAACmC,IAAI,CAAC,IAAIA,IAAI;cAAA;gBAAApB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7C;UACd;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACFvC,OAAA,CAACL,KAAK;YAACgC,IAAI,EAAC,GAAG;YAACuG,OAAO,eAAElI,OAAA,CAACH,QAAQ;cAACmE,EAAE,EAAC,YAAY;cAACmE,OAAO;YAAA;cAAA/F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,gBAENvC,OAAA;MAAKmC,SAAS,EAAC,WAAW;MAAAD,QAAA,gBACxBlC,OAAA;QAAAkC,QAAA,EAAI;MAAiB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEzBgD,WAAW,CAACzB,MAAM,GAAG,CAAC,gBACrB9D,OAAA;QAAKmC,SAAS,EAAC,kBAAkB;QAAAD,QAAA,gBAC/BlC,OAAA;UAAAkC,QAAA,EAAI;QAA6B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtCvC,OAAA;UAAKmC,SAAS,EAAC,cAAc;UAAAD,QAAA,EAC1BqD,WAAW,CAACxB,GAAG,CAAE+E,MAAM,iBACtB9I,OAAA;YAEEyD,IAAI,EAAC,QAAQ;YACbC,OAAO,EAAEA,CAAA,KAAMmE,eAAe,CAACiB,MAAM,CAAE;YAAA5G,QAAA,EAEtCb,UAAU,CAACyH,MAAM,CAAC,IAAIA;UAAM,GAJxBA,MAAM;YAAA1G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKL,CACT;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,EACL8C,OAAO,iBAAIrF,OAAA;UAAGmC,SAAS,EAAC,OAAO;UAAAD,QAAA,EAAEmD;QAAO;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9CvC,OAAA;UACEyD,IAAI,EAAC,QAAQ;UACbtB,SAAS,EAAC,aAAa;UACvBuB,OAAO,EAAEA,CAAA,KAAM;YACb8B,cAAc,CAAC,EAAE,CAAC;YAClBE,eAAe,CAAC,IAAI,CAAC;UACvB,CAAE;UAAAxD,QAAA,EACH;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,GACJ0C,IAAI,KAAK,UAAU,gBACrBjF,OAAA;QAAMmC,SAAS,EAAC,MAAM;QAAC6G,QAAQ,EAAElC,YAAa;QAAA5E,QAAA,gBAC5ClC,OAAA;UAAKmC,SAAS,EAAC,YAAY;UAAAD,QAAA,GAAC,WACjB,EAACb,UAAU,CAAC8D,YAAY,CAAC,IAAI,EAAE;QAAA;UAAA/C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,EACLoG,oBAAoB,CAAC,CAAC,eACvB3I,OAAA;UAAAkC,QAAA,GAAO,UAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,UAAU;YACfnD,IAAI,EAAC,UAAU;YACf3B,KAAK,EAAE8C,IAAI,CAACnE,QAAS;YACrBmI,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAQyD,IAAI,EAAC,QAAQ;UAAAvB,QAAA,EAAC;QAAS;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACvC8C,OAAO,iBAAIrF,OAAA;UAAGmC,SAAS,EAAC,OAAO;UAAAD,QAAA,EAAEmD;QAAO;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9CvC,OAAA;UACEyD,IAAI,EAAC,QAAQ;UACbtB,SAAS,EAAC,aAAa;UACvBuB,OAAO,EAAEA,CAAA,KAAM;YACbwB,OAAO,CAAC,OAAO,CAAC;YAChBE,eAAe,CAAC,IAAI,CAAC;YACrBP,OAAO,CAACtE,SAAS,CAAC;YAClBsG,cAAc,CAAC,CAAC;UAClB,CAAE;UAAA3E,QAAA,EACH;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,gBAEPvC,OAAA;QAAMmC,SAAS,EAAC,MAAM;QAAC6G,QAAQ,EAAElC,YAAa;QAAA5E,QAAA,gBAC5ClC,OAAA;UAAAkC,QAAA,GAAO,SAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,UAAU;YACf9E,KAAK,EAAE8C,IAAI,CAACpE,QAAS;YACrBoI,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAAkC,QAAA,GAAO,UAEL,eAAAlC,OAAA;YACE4G,IAAI,EAAC,UAAU;YACfnD,IAAI,EAAC,UAAU;YACf3B,KAAK,EAAE8C,IAAI,CAACnE,QAAS;YACrBmI,QAAQ,EAAEnC,YAAa;YACvBoC,QAAQ;UAAA;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC,eACRvC,OAAA;UAAQyD,IAAI,EAAC,QAAQ;UAAAvB,QAAA,EAAC;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACpC8C,OAAO,iBAAIrF,OAAA;UAAGmC,SAAS,EAAC,OAAO;UAAAD,QAAA,EAAEmD;QAAO;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9CvC,OAAA;UAAGmC,SAAS,EAAC,eAAe;UAAAD,QAAA,EAAC;QAE7B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJvC,OAAA;UAAKmC,SAAS,EAAC,gBAAgB;UAAAD,QAAA,gBAC7BlC,OAAA;YACEyD,IAAI,EAAC,QAAQ;YACbtB,SAAS,EAAC,aAAa;YACvBuB,OAAO,EAAEA,CAAA,KAAM;cACbwB,OAAO,CAAC,UAAU,CAAC;cACnBE,eAAe,CAAC,eAAe,CAAC;cAChCP,OAAO,CAACtE,SAAS,CAAC;cAClBsG,cAAc,CAAC,CAAC;YAClB,CAAE;YAAA3E,QAAA,EACH;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTvC,OAAA;YACEyD,IAAI,EAAC,QAAQ;YACbtB,SAAS,EAAC,aAAa;YACvBuB,OAAO,EAAEA,CAAA,KAAM;cACbwB,OAAO,CAAC,UAAU,CAAC;cACnBE,eAAe,CAAC,cAAc,CAAC;cAC/BP,OAAO,CAACtE,SAAS,CAAC;cAClBsG,cAAc,CAAC,CAAC;YAClB,CAAE;YAAA3E,QAAA,EACH;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTvC,OAAA;YACEyD,IAAI,EAAC,QAAQ;YACbtB,SAAS,EAAC,aAAa;YACvBuB,OAAO,EAAEA,CAAA,KAAM;cACbwB,OAAO,CAAC,UAAU,CAAC;cACnBE,eAAe,CAAC,SAAS,CAAC;cAC1BP,OAAO,CAACtE,SAAS,CAAC;cAClBsG,cAAc,CAAC,CAAC;YAClB,CAAE;YAAA3E,QAAA,EACH;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CACP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EACN;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAEpB;AAACoC,GAAA,CAjtBuBD,GAAG;AAAAuE,GAAA,GAAHvE,GAAG;AAAA,IAAAlC,EAAA,EAAAyB,GAAA,EAAAQ,GAAA,EAAAwE,GAAA;AAAAC,YAAA,CAAA1G,EAAA;AAAA0G,YAAA,CAAAjF,GAAA;AAAAiF,YAAA,CAAAzE,GAAA;AAAAyE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}